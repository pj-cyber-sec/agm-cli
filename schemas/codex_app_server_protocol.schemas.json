{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "CodexAppServerProtocol",
  "type": "object",
  "definitions": {
    "RequestId": {
      "description": "ID of a request, which can be either a string or an integer.",
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "integer",
          "format": "int64"
        }
      ]
    },
    "JSONRPCError": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "JSONRPCError",
      "description": "A response to a request that indicates an error occurred.",
      "type": "object",
      "required": [
        "error",
        "id"
      ],
      "properties": {
        "error": {
          "$ref": "#/definitions/JSONRPCErrorError"
        },
        "id": {
          "$ref": "#/definitions/RequestId"
        }
      }
    },
    "JSONRPCErrorError": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "JSONRPCErrorError",
      "type": "object",
      "required": [
        "code",
        "message"
      ],
      "properties": {
        "code": {
          "type": "integer",
          "format": "int64"
        },
        "data": true,
        "message": {
          "type": "string"
        }
      }
    },
    "JSONRPCNotification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "JSONRPCNotification",
      "description": "A notification which does not expect a response.",
      "type": "object",
      "required": [
        "method"
      ],
      "properties": {
        "method": {
          "type": "string"
        },
        "params": true
      }
    },
    "JSONRPCRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "JSONRPCRequest",
      "description": "A request that expects a response.",
      "type": "object",
      "required": [
        "id",
        "method"
      ],
      "properties": {
        "id": {
          "$ref": "#/definitions/RequestId"
        },
        "method": {
          "type": "string"
        },
        "params": true
      }
    },
    "JSONRPCResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "JSONRPCResponse",
      "description": "A successful (non-error) response to a request.",
      "type": "object",
      "required": [
        "id",
        "result"
      ],
      "properties": {
        "id": {
          "$ref": "#/definitions/RequestId"
        },
        "result": true
      }
    },
    "JSONRPCMessage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "JSONRPCMessage",
      "description": "Refers to any valid JSON-RPC object that can be decoded off the wire, or encoded to be sent.",
      "anyOf": [
        {
          "$ref": "#/definitions/JSONRPCRequest"
        },
        {
          "$ref": "#/definitions/JSONRPCNotification"
        },
        {
          "$ref": "#/definitions/JSONRPCResponse"
        },
        {
          "$ref": "#/definitions/JSONRPCError"
        }
      ]
    },
    "ClientInfo": {
      "type": "object",
      "required": [
        "name",
        "version"
      ],
      "properties": {
        "name": {
          "type": "string"
        },
        "title": {
          "type": [
            "string",
            "null"
          ]
        },
        "version": {
          "type": "string"
        }
      }
    },
    "FuzzyFileSearchParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FuzzyFileSearchParams",
      "type": "object",
      "required": [
        "query",
        "roots"
      ],
      "properties": {
        "cancellationToken": {
          "type": [
            "string",
            "null"
          ]
        },
        "query": {
          "type": "string"
        },
        "roots": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "ExecCommandApprovalResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ExecCommandApprovalResponse",
      "type": "object",
      "required": [
        "decision"
      ],
      "properties": {
        "decision": {
          "$ref": "#/definitions/ReviewDecision"
        }
      }
    },
    "ApplyPatchApprovalResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ApplyPatchApprovalResponse",
      "type": "object",
      "required": [
        "decision"
      ],
      "properties": {
        "decision": {
          "$ref": "#/definitions/ReviewDecision"
        }
      }
    },
    "ReviewDecision": {
      "description": "User's decision in response to an ExecApprovalRequest.",
      "oneOf": [
        {
          "description": "User has approved this command and the agent should execute it.",
          "type": "string",
          "enum": [
            "approved"
          ]
        },
        {
          "description": "User has approved this command and wants to apply the proposed execpolicy amendment so future matching commands are permitted.",
          "type": "object",
          "required": [
            "approved_execpolicy_amendment"
          ],
          "properties": {
            "approved_execpolicy_amendment": {
              "type": "object",
              "required": [
                "proposed_execpolicy_amendment"
              ],
              "properties": {
                "proposed_execpolicy_amendment": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "additionalProperties": false,
          "title": "ApprovedExecpolicyAmendmentReviewDecision"
        },
        {
          "description": "User has approved this command and wants to automatically approve any future identical instances (`command` and `cwd` match exactly) for the remainder of the session.",
          "type": "string",
          "enum": [
            "approved_for_session"
          ]
        },
        {
          "description": "User chose to persist a network policy rule (allow/deny) for future requests to the same host.",
          "type": "object",
          "required": [
            "network_policy_amendment"
          ],
          "properties": {
            "network_policy_amendment": {
              "type": "object",
              "required": [
                "network_policy_amendment"
              ],
              "properties": {
                "network_policy_amendment": {
                  "$ref": "#/definitions/NetworkPolicyAmendment"
                }
              }
            }
          },
          "additionalProperties": false,
          "title": "NetworkPolicyAmendmentReviewDecision"
        },
        {
          "description": "User has denied this command and the agent should not execute it, but it should continue the session and try something else.",
          "type": "string",
          "enum": [
            "denied"
          ]
        },
        {
          "description": "User has denied this command and the agent should not do anything until the user's next command.",
          "type": "string",
          "enum": [
            "abort"
          ]
        }
      ]
    },
    "InitializeCapabilities": {
      "description": "Client-declared capabilities negotiated during initialize.",
      "type": "object",
      "properties": {
        "experimentalApi": {
          "description": "Opt into receiving experimental API methods and fields.",
          "default": false,
          "type": "boolean"
        },
        "optOutNotificationMethods": {
          "description": "Exact notification method names that should be suppressed for this connection (for example `codex/event/session_configured`).",
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          }
        }
      }
    },
    "InitializeParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "InitializeParams",
      "type": "object",
      "required": [
        "clientInfo"
      ],
      "properties": {
        "capabilities": {
          "anyOf": [
            {
              "$ref": "#/definitions/InitializeCapabilities"
            },
            {
              "type": "null"
            }
          ]
        },
        "clientInfo": {
          "$ref": "#/definitions/ClientInfo"
        }
      }
    },
    "ClientRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ClientRequest",
      "description": "Request from the client to the server.",
      "oneOf": [
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "initialize"
              ],
              "title": "InitializeRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/InitializeParams"
            }
          },
          "title": "InitializeRequest"
        },
        {
          "description": "NEW APIs",
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/start"
              ],
              "title": "Thread/startRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadStartParams"
            }
          },
          "title": "Thread/startRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/resume"
              ],
              "title": "Thread/resumeRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadResumeParams"
            }
          },
          "title": "Thread/resumeRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/fork"
              ],
              "title": "Thread/forkRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadForkParams"
            }
          },
          "title": "Thread/forkRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/archive"
              ],
              "title": "Thread/archiveRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadArchiveParams"
            }
          },
          "title": "Thread/archiveRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/name/set"
              ],
              "title": "Thread/name/setRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadSetNameParams"
            }
          },
          "title": "Thread/name/setRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/unarchive"
              ],
              "title": "Thread/unarchiveRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadUnarchiveParams"
            }
          },
          "title": "Thread/unarchiveRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/compact/start"
              ],
              "title": "Thread/compact/startRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadCompactStartParams"
            }
          },
          "title": "Thread/compact/startRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/rollback"
              ],
              "title": "Thread/rollbackRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadRollbackParams"
            }
          },
          "title": "Thread/rollbackRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/list"
              ],
              "title": "Thread/listRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadListParams"
            }
          },
          "title": "Thread/listRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/loaded/list"
              ],
              "title": "Thread/loaded/listRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadLoadedListParams"
            }
          },
          "title": "Thread/loaded/listRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "thread/read"
              ],
              "title": "Thread/readRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadReadParams"
            }
          },
          "title": "Thread/readRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "skills/list"
              ],
              "title": "Skills/listRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/SkillsListParams"
            }
          },
          "title": "Skills/listRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "skills/remote/list"
              ],
              "title": "Skills/remote/listRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/SkillsRemoteReadParams"
            }
          },
          "title": "Skills/remote/listRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "skills/remote/export"
              ],
              "title": "Skills/remote/exportRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/SkillsRemoteWriteParams"
            }
          },
          "title": "Skills/remote/exportRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "app/list"
              ],
              "title": "App/listRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/AppsListParams"
            }
          },
          "title": "App/listRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "skills/config/write"
              ],
              "title": "Skills/config/writeRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/SkillsConfigWriteParams"
            }
          },
          "title": "Skills/config/writeRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "turn/start"
              ],
              "title": "Turn/startRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/TurnStartParams"
            }
          },
          "title": "Turn/startRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "turn/steer"
              ],
              "title": "Turn/steerRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/TurnSteerParams"
            }
          },
          "title": "Turn/steerRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "turn/interrupt"
              ],
              "title": "Turn/interruptRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/TurnInterruptParams"
            }
          },
          "title": "Turn/interruptRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "review/start"
              ],
              "title": "Review/startRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ReviewStartParams"
            }
          },
          "title": "Review/startRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "model/list"
              ],
              "title": "Model/listRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ModelListParams"
            }
          },
          "title": "Model/listRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "experimentalFeature/list"
              ],
              "title": "ExperimentalFeature/listRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ExperimentalFeatureListParams"
            }
          },
          "title": "ExperimentalFeature/listRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "mcpServer/oauth/login"
              ],
              "title": "McpServer/oauth/loginRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/McpServerOauthLoginParams"
            }
          },
          "title": "McpServer/oauth/loginRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "config/mcpServer/reload"
              ],
              "title": "Config/mcpServer/reloadRequestMethod"
            },
            "params": {
              "type": "null"
            }
          },
          "title": "Config/mcpServer/reloadRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "mcpServerStatus/list"
              ],
              "title": "McpServerStatus/listRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ListMcpServerStatusParams"
            }
          },
          "title": "McpServerStatus/listRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "windowsSandbox/setupStart"
              ],
              "title": "WindowsSandbox/setupStartRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/WindowsSandboxSetupStartParams"
            }
          },
          "title": "WindowsSandbox/setupStartRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "account/login/start"
              ],
              "title": "Account/login/startRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/LoginAccountParams"
            }
          },
          "title": "Account/login/startRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "account/login/cancel"
              ],
              "title": "Account/login/cancelRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/CancelLoginAccountParams"
            }
          },
          "title": "Account/login/cancelRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "account/logout"
              ],
              "title": "Account/logoutRequestMethod"
            },
            "params": {
              "type": "null"
            }
          },
          "title": "Account/logoutRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "account/rateLimits/read"
              ],
              "title": "Account/rateLimits/readRequestMethod"
            },
            "params": {
              "type": "null"
            }
          },
          "title": "Account/rateLimits/readRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "feedback/upload"
              ],
              "title": "Feedback/uploadRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/FeedbackUploadParams"
            }
          },
          "title": "Feedback/uploadRequest"
        },
        {
          "description": "Execute a command (argv vector) under the server's sandbox.",
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "command/exec"
              ],
              "title": "Command/execRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/CommandExecParams"
            }
          },
          "title": "Command/execRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "config/read"
              ],
              "title": "Config/readRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ConfigReadParams"
            }
          },
          "title": "Config/readRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "externalAgentConfig/detect"
              ],
              "title": "ExternalAgentConfig/detectRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ExternalAgentConfigDetectParams"
            }
          },
          "title": "ExternalAgentConfig/detectRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "externalAgentConfig/import"
              ],
              "title": "ExternalAgentConfig/importRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ExternalAgentConfigImportParams"
            }
          },
          "title": "ExternalAgentConfig/importRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "config/value/write"
              ],
              "title": "Config/value/writeRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ConfigValueWriteParams"
            }
          },
          "title": "Config/value/writeRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "config/batchWrite"
              ],
              "title": "Config/batchWriteRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ConfigBatchWriteParams"
            }
          },
          "title": "Config/batchWriteRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "configRequirements/read"
              ],
              "title": "ConfigRequirements/readRequestMethod"
            },
            "params": {
              "type": "null"
            }
          },
          "title": "ConfigRequirements/readRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "account/read"
              ],
              "title": "Account/readRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/GetAccountParams"
            }
          },
          "title": "Account/readRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "fuzzyFileSearch"
              ],
              "title": "FuzzyFileSearchRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/FuzzyFileSearchParams"
            }
          },
          "title": "FuzzyFileSearchRequest"
        }
      ]
    },
    "AdditionalFileSystemPermissions": {
      "type": "object",
      "properties": {
        "read": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          }
        },
        "write": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          }
        }
      }
    },
    "AdditionalMacOsPermissions": {
      "type": "object",
      "properties": {
        "accessibility": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "automations": {
          "anyOf": [
            {
              "$ref": "#/definitions/MacOsAutomationValue"
            },
            {
              "type": "null"
            }
          ]
        },
        "calendar": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "preferences": {
          "anyOf": [
            {
              "$ref": "#/definitions/MacOsPreferencesValue"
            },
            {
              "type": "null"
            }
          ]
        }
      }
    },
    "AdditionalPermissionProfile": {
      "type": "object",
      "properties": {
        "fileSystem": {
          "anyOf": [
            {
              "$ref": "#/definitions/AdditionalFileSystemPermissions"
            },
            {
              "type": "null"
            }
          ]
        },
        "macos": {
          "anyOf": [
            {
              "$ref": "#/definitions/AdditionalMacOsPermissions"
            },
            {
              "type": "null"
            }
          ]
        },
        "network": {
          "type": [
            "boolean",
            "null"
          ]
        }
      }
    },
    "ApplyPatchApprovalParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ApplyPatchApprovalParams",
      "type": "object",
      "required": [
        "callId",
        "conversationId",
        "fileChanges"
      ],
      "properties": {
        "callId": {
          "description": "Use to correlate this with [codex_protocol::protocol::PatchApplyBeginEvent] and [codex_protocol::protocol::PatchApplyEndEvent].",
          "type": "string"
        },
        "conversationId": {
          "$ref": "#/definitions/v2/ThreadId"
        },
        "fileChanges": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/FileChange"
          }
        },
        "grantRoot": {
          "description": "When set, the agent is asking the user to allow writes under this root for the remainder of the session (unclear if this is honored today).",
          "type": [
            "string",
            "null"
          ]
        },
        "reason": {
          "description": "Optional explanatory reason (e.g. request for extra write access).",
          "type": [
            "string",
            "null"
          ]
        }
      }
    },
    "ChatgptAuthTokensRefreshParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ChatgptAuthTokensRefreshParams",
      "type": "object",
      "required": [
        "reason"
      ],
      "properties": {
        "previousAccountId": {
          "description": "Workspace/account identifier that Codex was previously using.\n\nClients that manage multiple accounts/workspaces can use this as a hint to refresh the token for the correct workspace.\n\nThis may be `null` when the prior auth state did not include a workspace identifier (`chatgpt_account_id`).",
          "type": [
            "string",
            "null"
          ]
        },
        "reason": {
          "$ref": "#/definitions/ChatgptAuthTokensRefreshReason"
        }
      }
    },
    "ChatgptAuthTokensRefreshReason": {
      "oneOf": [
        {
          "description": "Codex attempted a backend request and received `401 Unauthorized`.",
          "type": "string",
          "enum": [
            "unauthorized"
          ]
        }
      ]
    },
    "CommandExecutionRequestApprovalParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CommandExecutionRequestApprovalParams",
      "type": "object",
      "required": [
        "itemId",
        "threadId",
        "turnId"
      ],
      "properties": {
        "turnId": {
          "type": "string"
        },
        "approvalId": {
          "description": "Unique identifier for this specific approval callback.\n\nFor regular shell/unified_exec approvals, this is null.\n\nFor zsh-exec-bridge subcommand approvals, multiple callbacks can belong to one parent `itemId`, so `approvalId` is a distinct opaque callback id (a UUID) used to disambiguate routing.",
          "type": [
            "string",
            "null"
          ]
        },
        "command": {
          "description": "The command to be executed.",
          "type": [
            "string",
            "null"
          ]
        },
        "commandActions": {
          "description": "Best-effort parsed command actions for friendly display.",
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/v2/CommandAction"
          }
        },
        "cwd": {
          "description": "The command's working directory.",
          "type": [
            "string",
            "null"
          ]
        },
        "itemId": {
          "type": "string"
        },
        "networkApprovalContext": {
          "description": "Optional context for a managed-network approval prompt.",
          "anyOf": [
            {
              "$ref": "#/definitions/NetworkApprovalContext"
            },
            {
              "type": "null"
            }
          ]
        },
        "proposedExecpolicyAmendment": {
          "description": "Optional proposed execpolicy amendment to allow similar commands without prompting.",
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          }
        },
        "proposedNetworkPolicyAmendments": {
          "description": "Optional proposed network policy amendments (allow/deny host) for future requests.",
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/NetworkPolicyAmendment"
          }
        },
        "reason": {
          "description": "Optional explanatory reason (e.g. request for network access).",
          "type": [
            "string",
            "null"
          ]
        },
        "threadId": {
          "type": "string"
        }
      }
    },
    "DynamicToolCallParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DynamicToolCallParams",
      "type": "object",
      "required": [
        "arguments",
        "callId",
        "threadId",
        "tool",
        "turnId"
      ],
      "properties": {
        "arguments": true,
        "callId": {
          "type": "string"
        },
        "threadId": {
          "type": "string"
        },
        "tool": {
          "type": "string"
        },
        "turnId": {
          "type": "string"
        }
      }
    },
    "ExecCommandApprovalParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ExecCommandApprovalParams",
      "type": "object",
      "required": [
        "callId",
        "command",
        "conversationId",
        "cwd",
        "parsedCmd"
      ],
      "properties": {
        "approvalId": {
          "description": "Identifier for this specific approval callback.",
          "type": [
            "string",
            "null"
          ]
        },
        "callId": {
          "description": "Use to correlate this with [codex_protocol::protocol::ExecCommandBeginEvent] and [codex_protocol::protocol::ExecCommandEndEvent].",
          "type": "string"
        },
        "command": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "conversationId": {
          "$ref": "#/definitions/v2/ThreadId"
        },
        "cwd": {
          "type": "string"
        },
        "parsedCmd": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ParsedCommand"
          }
        },
        "reason": {
          "type": [
            "string",
            "null"
          ]
        }
      }
    },
    "FileChange": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "content",
            "type"
          ],
          "properties": {
            "content": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "add"
              ],
              "title": "AddFileChangeType"
            }
          },
          "title": "AddFileChange"
        },
        {
          "type": "object",
          "required": [
            "content",
            "type"
          ],
          "properties": {
            "content": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "delete"
              ],
              "title": "DeleteFileChangeType"
            }
          },
          "title": "DeleteFileChange"
        },
        {
          "type": "object",
          "required": [
            "type",
            "unified_diff"
          ],
          "properties": {
            "move_path": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "update"
              ],
              "title": "UpdateFileChangeType"
            },
            "unified_diff": {
              "type": "string"
            }
          },
          "title": "UpdateFileChange"
        }
      ]
    },
    "FileChangeRequestApprovalParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FileChangeRequestApprovalParams",
      "type": "object",
      "required": [
        "itemId",
        "threadId",
        "turnId"
      ],
      "properties": {
        "grantRoot": {
          "description": "[UNSTABLE] When set, the agent is asking the user to allow writes under this root for the remainder of the session (unclear if this is honored today).",
          "type": [
            "string",
            "null"
          ]
        },
        "itemId": {
          "type": "string"
        },
        "reason": {
          "description": "Optional explanatory reason (e.g. request for extra write access).",
          "type": [
            "string",
            "null"
          ]
        },
        "threadId": {
          "type": "string"
        },
        "turnId": {
          "type": "string"
        }
      }
    },
    "MacOsAutomationValue": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      ]
    },
    "MacOsPreferencesValue": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "string"
        }
      ]
    },
    "NetworkApprovalContext": {
      "type": "object",
      "required": [
        "host",
        "protocol"
      ],
      "properties": {
        "host": {
          "type": "string"
        },
        "protocol": {
          "$ref": "#/definitions/NetworkApprovalProtocol"
        }
      }
    },
    "NetworkApprovalProtocol": {
      "type": "string",
      "enum": [
        "http",
        "https",
        "socks5Tcp",
        "socks5Udp"
      ]
    },
    "NetworkPolicyAmendment": {
      "type": "object",
      "required": [
        "action",
        "host"
      ],
      "properties": {
        "action": {
          "$ref": "#/definitions/NetworkPolicyRuleAction"
        },
        "host": {
          "type": "string"
        }
      }
    },
    "NetworkPolicyRuleAction": {
      "type": "string",
      "enum": [
        "allow",
        "deny"
      ]
    },
    "ParsedCommand": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "cmd",
            "name",
            "path",
            "type"
          ],
          "properties": {
            "cmd": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "path": {
              "description": "(Best effort) Path to the file being read by the command. When possible, this is an absolute path, though when relative, it should be resolved against the `cwd`` that will be used to run the command to derive the absolute path.",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "read"
              ],
              "title": "ReadParsedCommandType"
            }
          },
          "title": "ReadParsedCommand"
        },
        {
          "type": "object",
          "required": [
            "cmd",
            "type"
          ],
          "properties": {
            "cmd": {
              "type": "string"
            },
            "path": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "list_files"
              ],
              "title": "ListFilesParsedCommandType"
            }
          },
          "title": "ListFilesParsedCommand"
        },
        {
          "type": "object",
          "required": [
            "cmd",
            "type"
          ],
          "properties": {
            "cmd": {
              "type": "string"
            },
            "path": {
              "type": [
                "string",
                "null"
              ]
            },
            "query": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "search"
              ],
              "title": "SearchParsedCommandType"
            }
          },
          "title": "SearchParsedCommand"
        },
        {
          "type": "object",
          "required": [
            "cmd",
            "type"
          ],
          "properties": {
            "cmd": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "unknown"
              ],
              "title": "UnknownParsedCommandType"
            }
          },
          "title": "UnknownParsedCommand"
        }
      ]
    },
    "SkillRequestApprovalParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SkillRequestApprovalParams",
      "type": "object",
      "required": [
        "itemId",
        "skillName"
      ],
      "properties": {
        "itemId": {
          "type": "string"
        },
        "skillName": {
          "type": "string"
        }
      }
    },
    "ToolRequestUserInputOption": {
      "description": "EXPERIMENTAL. Defines a single selectable option for request_user_input.",
      "type": "object",
      "required": [
        "description",
        "label"
      ],
      "properties": {
        "description": {
          "type": "string"
        },
        "label": {
          "type": "string"
        }
      }
    },
    "ToolRequestUserInputParams": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ToolRequestUserInputParams",
      "description": "EXPERIMENTAL. Params sent with a request_user_input event.",
      "type": "object",
      "required": [
        "itemId",
        "questions",
        "threadId",
        "turnId"
      ],
      "properties": {
        "itemId": {
          "type": "string"
        },
        "questions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ToolRequestUserInputQuestion"
          }
        },
        "threadId": {
          "type": "string"
        },
        "turnId": {
          "type": "string"
        }
      }
    },
    "ToolRequestUserInputQuestion": {
      "description": "EXPERIMENTAL. Represents one request_user_input question and its required options.",
      "type": "object",
      "required": [
        "header",
        "id",
        "question"
      ],
      "properties": {
        "header": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "isOther": {
          "default": false,
          "type": "boolean"
        },
        "isSecret": {
          "default": false,
          "type": "boolean"
        },
        "options": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/ToolRequestUserInputOption"
          }
        },
        "question": {
          "type": "string"
        }
      }
    },
    "ServerRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ServerRequest",
      "description": "Request initiated from the server and sent to the client.",
      "oneOf": [
        {
          "description": "NEW APIs Sent when approval is requested for a specific command execution. This request is used for Turns started via turn/start.",
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "item/commandExecution/requestApproval"
              ],
              "title": "Item/commandExecution/requestApprovalRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/CommandExecutionRequestApprovalParams"
            }
          },
          "title": "Item/commandExecution/requestApprovalRequest"
        },
        {
          "description": "Sent when approval is requested for a specific file change. This request is used for Turns started via turn/start.",
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "item/fileChange/requestApproval"
              ],
              "title": "Item/fileChange/requestApprovalRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/FileChangeRequestApprovalParams"
            }
          },
          "title": "Item/fileChange/requestApprovalRequest"
        },
        {
          "description": "EXPERIMENTAL - Request input from the user for a tool call.",
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "item/tool/requestUserInput"
              ],
              "title": "Item/tool/requestUserInputRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/ToolRequestUserInputParams"
            }
          },
          "title": "Item/tool/requestUserInputRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "skill/requestApproval"
              ],
              "title": "Skill/requestApprovalRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/SkillRequestApprovalParams"
            }
          },
          "title": "Skill/requestApprovalRequest"
        },
        {
          "description": "Execute a dynamic tool call on the client.",
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "item/tool/call"
              ],
              "title": "Item/tool/callRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/DynamicToolCallParams"
            }
          },
          "title": "Item/tool/callRequest"
        },
        {
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "account/chatgptAuthTokens/refresh"
              ],
              "title": "Account/chatgptAuthTokens/refreshRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/ChatgptAuthTokensRefreshParams"
            }
          },
          "title": "Account/chatgptAuthTokens/refreshRequest"
        },
        {
          "description": "DEPRECATED APIs below Request to approve a patch. This request is used for Turns started via the legacy APIs (i.e. SendUserTurn, SendUserMessage).",
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "applyPatchApproval"
              ],
              "title": "ApplyPatchApprovalRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/ApplyPatchApprovalParams"
            }
          },
          "title": "ApplyPatchApprovalRequest"
        },
        {
          "description": "Request to exec a command. This request is used for Turns started via the legacy APIs (i.e. SendUserTurn, SendUserMessage).",
          "type": "object",
          "required": [
            "id",
            "method",
            "params"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "method": {
              "type": "string",
              "enum": [
                "execCommandApproval"
              ],
              "title": "ExecCommandApprovalRequestMethod"
            },
            "params": {
              "$ref": "#/definitions/ExecCommandApprovalParams"
            }
          },
          "title": "ExecCommandApprovalRequest"
        }
      ]
    },
    "ClientNotification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ClientNotification",
      "oneOf": [
        {
          "type": "object",
          "required": [
            "method"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "initialized"
              ],
              "title": "InitializedNotificationMethod"
            }
          },
          "title": "InitializedNotification"
        }
      ]
    },
    "FuzzyFileSearchResult": {
      "description": "Superset of [`codex_file_search::FileMatch`]",
      "type": "object",
      "required": [
        "file_name",
        "path",
        "root",
        "score"
      ],
      "properties": {
        "file_name": {
          "type": "string"
        },
        "indices": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "integer",
            "format": "uint32",
            "minimum": 0.0
          }
        },
        "path": {
          "type": "string"
        },
        "root": {
          "type": "string"
        },
        "score": {
          "type": "integer",
          "format": "uint32",
          "minimum": 0.0
        }
      }
    },
    "FuzzyFileSearchSessionCompletedNotification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FuzzyFileSearchSessionCompletedNotification",
      "type": "object",
      "required": [
        "sessionId"
      ],
      "properties": {
        "sessionId": {
          "type": "string"
        }
      }
    },
    "FuzzyFileSearchSessionUpdatedNotification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FuzzyFileSearchSessionUpdatedNotification",
      "type": "object",
      "required": [
        "files",
        "query",
        "sessionId"
      ],
      "properties": {
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/FuzzyFileSearchResult"
          }
        },
        "query": {
          "type": "string"
        },
        "sessionId": {
          "type": "string"
        }
      }
    },
    "ServerNotification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ServerNotification",
      "description": "Notification sent from the server to the client.",
      "oneOf": [
        {
          "description": "NEW NOTIFICATIONS",
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "error"
              ],
              "title": "ErrorNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ErrorNotification"
            }
          },
          "title": "ErrorNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "thread/started"
              ],
              "title": "Thread/startedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadStartedNotification"
            }
          },
          "title": "Thread/startedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "thread/status/changed"
              ],
              "title": "Thread/status/changedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadStatusChangedNotification"
            }
          },
          "title": "Thread/status/changedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "thread/archived"
              ],
              "title": "Thread/archivedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadArchivedNotification"
            }
          },
          "title": "Thread/archivedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "thread/unarchived"
              ],
              "title": "Thread/unarchivedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadUnarchivedNotification"
            }
          },
          "title": "Thread/unarchivedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "thread/name/updated"
              ],
              "title": "Thread/name/updatedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadNameUpdatedNotification"
            }
          },
          "title": "Thread/name/updatedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "thread/tokenUsage/updated"
              ],
              "title": "Thread/tokenUsage/updatedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ThreadTokenUsageUpdatedNotification"
            }
          },
          "title": "Thread/tokenUsage/updatedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "turn/started"
              ],
              "title": "Turn/startedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/TurnStartedNotification"
            }
          },
          "title": "Turn/startedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "turn/completed"
              ],
              "title": "Turn/completedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/TurnCompletedNotification"
            }
          },
          "title": "Turn/completedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "turn/diff/updated"
              ],
              "title": "Turn/diff/updatedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/TurnDiffUpdatedNotification"
            }
          },
          "title": "Turn/diff/updatedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "turn/plan/updated"
              ],
              "title": "Turn/plan/updatedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/TurnPlanUpdatedNotification"
            }
          },
          "title": "Turn/plan/updatedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/started"
              ],
              "title": "Item/startedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ItemStartedNotification"
            }
          },
          "title": "Item/startedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/completed"
              ],
              "title": "Item/completedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ItemCompletedNotification"
            }
          },
          "title": "Item/completedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/agentMessage/delta"
              ],
              "title": "Item/agentMessage/deltaNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/AgentMessageDeltaNotification"
            }
          },
          "title": "Item/agentMessage/deltaNotification"
        },
        {
          "description": "EXPERIMENTAL - proposed plan streaming deltas for plan items.",
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/plan/delta"
              ],
              "title": "Item/plan/deltaNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/PlanDeltaNotification"
            }
          },
          "title": "Item/plan/deltaNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/commandExecution/outputDelta"
              ],
              "title": "Item/commandExecution/outputDeltaNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/CommandExecutionOutputDeltaNotification"
            }
          },
          "title": "Item/commandExecution/outputDeltaNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/commandExecution/terminalInteraction"
              ],
              "title": "Item/commandExecution/terminalInteractionNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/TerminalInteractionNotification"
            }
          },
          "title": "Item/commandExecution/terminalInteractionNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/fileChange/outputDelta"
              ],
              "title": "Item/fileChange/outputDeltaNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/FileChangeOutputDeltaNotification"
            }
          },
          "title": "Item/fileChange/outputDeltaNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/mcpToolCall/progress"
              ],
              "title": "Item/mcpToolCall/progressNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/McpToolCallProgressNotification"
            }
          },
          "title": "Item/mcpToolCall/progressNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "mcpServer/oauthLogin/completed"
              ],
              "title": "McpServer/oauthLogin/completedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/McpServerOauthLoginCompletedNotification"
            }
          },
          "title": "McpServer/oauthLogin/completedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "account/updated"
              ],
              "title": "Account/updatedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/AccountUpdatedNotification"
            }
          },
          "title": "Account/updatedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "account/rateLimits/updated"
              ],
              "title": "Account/rateLimits/updatedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/AccountRateLimitsUpdatedNotification"
            }
          },
          "title": "Account/rateLimits/updatedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "app/list/updated"
              ],
              "title": "App/list/updatedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/AppListUpdatedNotification"
            }
          },
          "title": "App/list/updatedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/reasoning/summaryTextDelta"
              ],
              "title": "Item/reasoning/summaryTextDeltaNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ReasoningSummaryTextDeltaNotification"
            }
          },
          "title": "Item/reasoning/summaryTextDeltaNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/reasoning/summaryPartAdded"
              ],
              "title": "Item/reasoning/summaryPartAddedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ReasoningSummaryPartAddedNotification"
            }
          },
          "title": "Item/reasoning/summaryPartAddedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "item/reasoning/textDelta"
              ],
              "title": "Item/reasoning/textDeltaNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ReasoningTextDeltaNotification"
            }
          },
          "title": "Item/reasoning/textDeltaNotification"
        },
        {
          "description": "Deprecated: Use `ContextCompaction` item type instead.",
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "thread/compacted"
              ],
              "title": "Thread/compactedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ContextCompactedNotification"
            }
          },
          "title": "Thread/compactedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "model/rerouted"
              ],
              "title": "Model/reroutedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ModelReroutedNotification"
            }
          },
          "title": "Model/reroutedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "deprecationNotice"
              ],
              "title": "DeprecationNoticeNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/DeprecationNoticeNotification"
            }
          },
          "title": "DeprecationNoticeNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "configWarning"
              ],
              "title": "ConfigWarningNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/ConfigWarningNotification"
            }
          },
          "title": "ConfigWarningNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "fuzzyFileSearch/sessionUpdated"
              ],
              "title": "FuzzyFileSearch/sessionUpdatedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/FuzzyFileSearchSessionUpdatedNotification"
            }
          },
          "title": "FuzzyFileSearch/sessionUpdatedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "fuzzyFileSearch/sessionCompleted"
              ],
              "title": "FuzzyFileSearch/sessionCompletedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/FuzzyFileSearchSessionCompletedNotification"
            }
          },
          "title": "FuzzyFileSearch/sessionCompletedNotification"
        },
        {
          "description": "Notifies the user of world-writable directories on Windows, which cannot be protected by the sandbox.",
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "windows/worldWritableWarning"
              ],
              "title": "Windows/worldWritableWarningNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/WindowsWorldWritableWarningNotification"
            }
          },
          "title": "Windows/worldWritableWarningNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "windowsSandbox/setupCompleted"
              ],
              "title": "WindowsSandbox/setupCompletedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/WindowsSandboxSetupCompletedNotification"
            }
          },
          "title": "WindowsSandbox/setupCompletedNotification"
        },
        {
          "type": "object",
          "required": [
            "method",
            "params"
          ],
          "properties": {
            "method": {
              "type": "string",
              "enum": [
                "account/login/completed"
              ],
              "title": "Account/login/completedNotificationMethod"
            },
            "params": {
              "$ref": "#/definitions/v2/AccountLoginCompletedNotification"
            }
          },
          "title": "Account/login/completedNotification"
        }
      ]
    },
    "AgentMessageContent": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "text",
            "type"
          ],
          "properties": {
            "text": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "Text"
              ],
              "title": "TextAgentMessageContentType"
            }
          },
          "title": "TextAgentMessageContent"
        }
      ]
    },
    "AgentStatus": {
      "description": "Agent lifecycle status, derived from emitted events.",
      "oneOf": [
        {
          "description": "Agent is waiting for initialization.",
          "type": "string",
          "enum": [
            "pending_init"
          ]
        },
        {
          "description": "Agent is currently running.",
          "type": "string",
          "enum": [
            "running"
          ]
        },
        {
          "description": "Agent is done. Contains the final assistant message.",
          "type": "object",
          "required": [
            "completed"
          ],
          "properties": {
            "completed": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "additionalProperties": false,
          "title": "CompletedAgentStatus"
        },
        {
          "description": "Agent encountered an error.",
          "type": "object",
          "required": [
            "errored"
          ],
          "properties": {
            "errored": {
              "type": "string"
            }
          },
          "additionalProperties": false,
          "title": "ErroredAgentStatus"
        },
        {
          "description": "Agent has been shutdown.",
          "type": "string",
          "enum": [
            "shutdown"
          ]
        },
        {
          "description": "Agent is not found.",
          "type": "string",
          "enum": [
            "not_found"
          ]
        }
      ]
    },
    "CallToolResult": {
      "description": "The server's response to a tool call.",
      "type": "object",
      "required": [
        "content"
      ],
      "properties": {
        "_meta": true,
        "content": {
          "type": "array",
          "items": true
        },
        "isError": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "structuredContent": true
      }
    },
    "CollabAgentRef": {
      "type": "object",
      "required": [
        "thread_id"
      ],
      "properties": {
        "agent_nickname": {
          "description": "Optional nickname assigned to an AgentControl-spawned sub-agent.",
          "type": [
            "string",
            "null"
          ]
        },
        "agent_role": {
          "description": "Optional role (agent_role) assigned to an AgentControl-spawned sub-agent.",
          "type": [
            "string",
            "null"
          ]
        },
        "thread_id": {
          "description": "Thread ID of the receiver/new agent.",
          "allOf": [
            {
              "$ref": "#/definitions/ThreadId"
            }
          ]
        }
      }
    },
    "CollabAgentStatusEntry": {
      "type": "object",
      "required": [
        "status",
        "thread_id"
      ],
      "properties": {
        "agent_nickname": {
          "description": "Optional nickname assigned to an AgentControl-spawned sub-agent.",
          "type": [
            "string",
            "null"
          ]
        },
        "agent_role": {
          "description": "Optional role (agent_role) assigned to an AgentControl-spawned sub-agent.",
          "type": [
            "string",
            "null"
          ]
        },
        "status": {
          "description": "Last known status of the agent.",
          "allOf": [
            {
              "$ref": "#/definitions/AgentStatus"
            }
          ]
        },
        "thread_id": {
          "description": "Thread ID of the receiver/new agent.",
          "allOf": [
            {
              "$ref": "#/definitions/ThreadId"
            }
          ]
        }
      }
    },
    "CustomPrompt": {
      "type": "object",
      "required": [
        "content",
        "name",
        "path"
      ],
      "properties": {
        "argument_hint": {
          "type": [
            "string",
            "null"
          ]
        },
        "content": {
          "type": "string"
        },
        "description": {
          "type": [
            "string",
            "null"
          ]
        },
        "name": {
          "type": "string"
        },
        "path": {
          "type": "string"
        }
      }
    },
    "Duration": {
      "type": "object",
      "required": [
        "nanos",
        "secs"
      ],
      "properties": {
        "nanos": {
          "type": "integer",
          "format": "uint32",
          "minimum": 0.0
        },
        "secs": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0.0
        }
      }
    },
    "ExecCommandSource": {
      "type": "string",
      "enum": [
        "agent",
        "user_shell",
        "unified_exec_startup",
        "unified_exec_interaction"
      ]
    },
    "ExecCommandStatus": {
      "type": "string",
      "enum": [
        "completed",
        "failed",
        "declined"
      ]
    },
    "ExecOutputStream": {
      "type": "string",
      "enum": [
        "stdout",
        "stderr"
      ]
    },
    "FileSystemPermissions": {
      "type": "object",
      "properties": {
        "read": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          }
        },
        "write": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "type": "string"
          }
        }
      }
    },
    "HistoryEntry": {
      "type": "object",
      "required": [
        "conversation_id",
        "text",
        "ts"
      ],
      "properties": {
        "conversation_id": {
          "type": "string"
        },
        "text": {
          "type": "string"
        },
        "ts": {
          "type": "integer",
          "format": "uint64",
          "minimum": 0.0
        }
      }
    },
    "MacOsPermissions": {
      "type": "object",
      "properties": {
        "accessibility": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "automations": {
          "anyOf": [
            {
              "$ref": "#/definitions/MacOsAutomationValue"
            },
            {
              "type": "null"
            }
          ]
        },
        "calendar": {
          "type": [
            "boolean",
            "null"
          ]
        },
        "preferences": {
          "anyOf": [
            {
              "$ref": "#/definitions/MacOsPreferencesValue"
            },
            {
              "type": "null"
            }
          ]
        }
      }
    },
    "McpInvocation": {
      "type": "object",
      "required": [
        "server",
        "tool"
      ],
      "properties": {
        "arguments": {
          "description": "Arguments to the tool call."
        },
        "server": {
          "description": "Name of the MCP server as defined in the config.",
          "type": "string"
        },
        "tool": {
          "description": "Name of the tool as given by the MCP server.",
          "type": "string"
        }
      }
    },
    "McpStartupFailure": {
      "type": "object",
      "required": [
        "error",
        "server"
      ],
      "properties": {
        "error": {
          "type": "string"
        },
        "server": {
          "type": "string"
        }
      }
    },
    "McpStartupStatus": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "state"
          ],
          "properties": {
            "state": {
              "type": "string",
              "enum": [
                "starting"
              ]
            }
          },
          "title": "StartingMcpStartupStatus"
        },
        {
          "type": "object",
          "required": [
            "state"
          ],
          "properties": {
            "state": {
              "type": "string",
              "enum": [
                "ready"
              ]
            }
          },
          "title": "ReadyMcpStartupStatus"
        },
        {
          "type": "object",
          "required": [
            "error",
            "state"
          ],
          "properties": {
            "error": {
              "type": "string"
            },
            "state": {
              "type": "string",
              "enum": [
                "failed"
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "state"
          ],
          "properties": {
            "state": {
              "type": "string",
              "enum": [
                "cancelled"
              ]
            }
          },
          "title": "CancelledMcpStartupStatus"
        }
      ]
    },
    "PermissionProfile": {
      "type": "object",
      "properties": {
        "file_system": {
          "anyOf": [
            {
              "$ref": "#/definitions/FileSystemPermissions"
            },
            {
              "type": "null"
            }
          ]
        },
        "macos": {
          "anyOf": [
            {
              "$ref": "#/definitions/MacOsPermissions"
            },
            {
              "type": "null"
            }
          ]
        },
        "network": {
          "type": [
            "boolean",
            "null"
          ]
        }
      }
    },
    "PlanItemArg": {
      "type": "object",
      "required": [
        "status",
        "step"
      ],
      "properties": {
        "status": {
          "$ref": "#/definitions/StepStatus"
        },
        "step": {
          "type": "string"
        }
      },
      "additionalProperties": false
    },
    "RealtimeAudioFrame": {
      "type": "object",
      "required": [
        "data",
        "num_channels",
        "sample_rate"
      ],
      "properties": {
        "data": {
          "type": "string"
        },
        "num_channels": {
          "type": "integer",
          "format": "uint16",
          "minimum": 0.0
        },
        "sample_rate": {
          "type": "integer",
          "format": "uint32",
          "minimum": 0.0
        },
        "samples_per_channel": {
          "type": [
            "integer",
            "null"
          ],
          "format": "uint32",
          "minimum": 0.0
        }
      }
    },
    "RealtimeEvent": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "SessionCreated"
          ],
          "properties": {
            "SessionCreated": {
              "type": "object",
              "required": [
                "session_id"
              ],
              "properties": {
                "session_id": {
                  "type": "string"
                }
              }
            }
          },
          "additionalProperties": false,
          "title": "SessionCreatedRealtimeEvent"
        },
        {
          "type": "object",
          "required": [
            "SessionUpdated"
          ],
          "properties": {
            "SessionUpdated": {
              "type": "object",
              "properties": {
                "backend_prompt": {
                  "type": [
                    "string",
                    "null"
                  ]
                }
              }
            }
          },
          "additionalProperties": false,
          "title": "SessionUpdatedRealtimeEvent"
        },
        {
          "type": "object",
          "required": [
            "AudioOut"
          ],
          "properties": {
            "AudioOut": {
              "$ref": "#/definitions/RealtimeAudioFrame"
            }
          },
          "additionalProperties": false,
          "title": "AudioOutRealtimeEvent"
        },
        {
          "type": "object",
          "required": [
            "ConversationItemAdded"
          ],
          "properties": {
            "ConversationItemAdded": true
          },
          "additionalProperties": false,
          "title": "ConversationItemAddedRealtimeEvent"
        },
        {
          "type": "object",
          "required": [
            "Error"
          ],
          "properties": {
            "Error": {
              "type": "string"
            }
          },
          "additionalProperties": false,
          "title": "ErrorRealtimeEvent"
        }
      ]
    },
    "RejectConfig": {
      "type": "object",
      "required": [
        "mcp_elicitations",
        "rules",
        "sandbox_approval"
      ],
      "properties": {
        "mcp_elicitations": {
          "description": "Reject MCP elicitation prompts.",
          "type": "boolean"
        },
        "rules": {
          "description": "Reject prompts triggered by execpolicy `prompt` rules.",
          "type": "boolean"
        },
        "sandbox_approval": {
          "description": "Reject approval prompts related to sandbox escalation.",
          "type": "boolean"
        }
      }
    },
    "RequestUserInputQuestion": {
      "type": "object",
      "required": [
        "header",
        "id",
        "question"
      ],
      "properties": {
        "header": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "isOther": {
          "default": false,
          "type": "boolean"
        },
        "isSecret": {
          "default": false,
          "type": "boolean"
        },
        "options": {
          "type": [
            "array",
            "null"
          ],
          "items": {
            "$ref": "#/definitions/RequestUserInputQuestionOption"
          }
        },
        "question": {
          "type": "string"
        }
      }
    },
    "RequestUserInputQuestionOption": {
      "type": "object",
      "required": [
        "description",
        "label"
      ],
      "properties": {
        "description": {
          "type": "string"
        },
        "label": {
          "type": "string"
        }
      }
    },
    "Result_of_CallToolResult_or_String": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "Ok"
          ],
          "properties": {
            "Ok": {
              "$ref": "#/definitions/CallToolResult"
            }
          },
          "title": "OkResult_of_CallToolResult_or_String"
        },
        {
          "type": "object",
          "required": [
            "Err"
          ],
          "properties": {
            "Err": {
              "type": "string"
            }
          },
          "title": "ErrResult_of_CallToolResult_or_String"
        }
      ]
    },
    "ReviewCodeLocation": {
      "description": "Location of the code related to a review finding.",
      "type": "object",
      "required": [
        "absolute_file_path",
        "line_range"
      ],
      "properties": {
        "absolute_file_path": {
          "type": "string"
        },
        "line_range": {
          "$ref": "#/definitions/ReviewLineRange"
        }
      }
    },
    "ReviewFinding": {
      "description": "A single review finding describing an observed issue or recommendation.",
      "type": "object",
      "required": [
        "body",
        "code_location",
        "confidence_score",
        "priority",
        "title"
      ],
      "properties": {
        "body": {
          "type": "string"
        },
        "code_location": {
          "$ref": "#/definitions/ReviewCodeLocation"
        },
        "confidence_score": {
          "type": "number",
          "format": "float"
        },
        "priority": {
          "type": "integer",
          "format": "int32"
        },
        "title": {
          "type": "string"
        }
      }
    },
    "ReviewLineRange": {
      "description": "Inclusive line range in a file associated with the finding.",
      "type": "object",
      "required": [
        "end",
        "start"
      ],
      "properties": {
        "end": {
          "type": "integer",
          "format": "uint32",
          "minimum": 0.0
        },
        "start": {
          "type": "integer",
          "format": "uint32",
          "minimum": 0.0
        }
      }
    },
    "ReviewOutputEvent": {
      "description": "Structured review result produced by a child review session.",
      "type": "object",
      "required": [
        "findings",
        "overall_confidence_score",
        "overall_correctness",
        "overall_explanation"
      ],
      "properties": {
        "findings": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ReviewFinding"
          }
        },
        "overall_confidence_score": {
          "type": "number",
          "format": "float"
        },
        "overall_correctness": {
          "type": "string"
        },
        "overall_explanation": {
          "type": "string"
        }
      }
    },
    "SessionNetworkProxyRuntime": {
      "type": "object",
      "required": [
        "admin_addr",
        "http_addr",
        "socks_addr"
      ],
      "properties": {
        "admin_addr": {
          "type": "string"
        },
        "http_addr": {
          "type": "string"
        },
        "socks_addr": {
          "type": "string"
        }
      }
    },
    "StepStatus": {
      "type": "string",
      "enum": [
        "pending",
        "in_progress",
        "completed"
      ]
    },
    "TokenUsage": {
      "type": "object",
      "required": [
        "cached_input_tokens",
        "input_tokens",
        "output_tokens",
        "reasoning_output_tokens",
        "total_tokens"
      ],
      "properties": {
        "cached_input_tokens": {
          "type": "integer",
          "format": "int64"
        },
        "input_tokens": {
          "type": "integer",
          "format": "int64"
        },
        "output_tokens": {
          "type": "integer",
          "format": "int64"
        },
        "reasoning_output_tokens": {
          "type": "integer",
          "format": "int64"
        },
        "total_tokens": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "TokenUsageInfo": {
      "type": "object",
      "required": [
        "last_token_usage",
        "total_token_usage"
      ],
      "properties": {
        "last_token_usage": {
          "$ref": "#/definitions/TokenUsage"
        },
        "model_context_window": {
          "type": [
            "integer",
            "null"
          ],
          "format": "int64"
        },
        "total_token_usage": {
          "$ref": "#/definitions/TokenUsage"
        }
      }
    },
    "TurnAbortReason": {
      "type": "string",
      "enum": [
        "interrupted",
        "replaced",
        "review_ended"
      ]
    },
    "TurnItem": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "content",
            "id",
            "type"
          ],
          "properties": {
            "content": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/UserInput"
              }
            },
            "id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "UserMessage"
              ],
              "title": "UserMessageTurnItemType"
            }
          },
          "title": "UserMessageTurnItem"
        },
        {
          "description": "Assistant-authored message payload used in turn-item streams.\n\n`phase` is optional because not all providers/models emit it. Consumers should use it when present, but retain legacy completion semantics when it is `None`.",
          "type": "object",
          "required": [
            "content",
            "id",
            "type"
          ],
          "properties": {
            "content": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/AgentMessageContent"
              }
            },
            "id": {
              "type": "string"
            },
            "phase": {
              "description": "Optional phase metadata carried through from `ResponseItem::Message`.\n\nThis is currently used by TUI rendering to distinguish mid-turn commentary from a final answer and avoid status-indicator jitter.",
              "anyOf": [
                {
                  "$ref": "#/definitions/MessagePhase"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "AgentMessage"
              ],
              "title": "AgentMessageTurnItemType"
            }
          },
          "title": "AgentMessageTurnItem"
        },
        {
          "type": "object",
          "required": [
            "id",
            "text",
            "type"
          ],
          "properties": {
            "id": {
              "type": "string"
            },
            "text": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "Plan"
              ],
              "title": "PlanTurnItemType"
            }
          },
          "title": "PlanTurnItem"
        },
        {
          "type": "object",
          "required": [
            "id",
            "summary_text",
            "type"
          ],
          "properties": {
            "id": {
              "type": "string"
            },
            "raw_content": {
              "default": [],
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "summary_text": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "Reasoning"
              ],
              "title": "ReasoningTurnItemType"
            }
          },
          "title": "ReasoningTurnItem"
        },
        {
          "type": "object",
          "required": [
            "action",
            "id",
            "query",
            "type"
          ],
          "properties": {
            "action": {
              "$ref": "#/definitions/WebSearchAction"
            },
            "id": {
              "type": "string"
            },
            "query": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "WebSearch"
              ],
              "title": "WebSearchTurnItemType"
            }
          },
          "title": "WebSearchTurnItem"
        },
        {
          "type": "object",
          "required": [
            "id",
            "type"
          ],
          "properties": {
            "id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "ContextCompaction"
              ],
              "title": "ContextCompactionTurnItemType"
            }
          },
          "title": "ContextCompactionTurnItem"
        }
      ]
    },
    "EventMsg": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "EventMsg",
      "description": "Response event from the agent NOTE: Make sure none of these values have optional types, as it will mess up the extension code-gen.",
      "oneOf": [
        {
          "description": "Error while executing a submission",
          "type": "object",
          "required": [
            "message",
            "type"
          ],
          "properties": {
            "codex_error_info": {
              "default": null,
              "anyOf": [
                {
                  "$ref": "#/definitions/v2/CodexErrorInfo"
                },
                {
                  "type": "null"
                }
              ]
            },
            "message": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "error"
              ],
              "title": "ErrorEventMsgType"
            }
          },
          "title": "ErrorEventMsg"
        },
        {
          "description": "Warning issued while processing a submission. Unlike `Error`, this indicates the turn continued but the user should still be notified.",
          "type": "object",
          "required": [
            "message",
            "type"
          ],
          "properties": {
            "message": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "warning"
              ],
              "title": "WarningEventMsgType"
            }
          },
          "title": "WarningEventMsg"
        },
        {
          "description": "Realtime conversation lifecycle start event.",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "session_id": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "realtime_conversation_started"
              ],
              "title": "RealtimeConversationStartedEventMsgType"
            }
          },
          "title": "RealtimeConversationStartedEventMsg"
        },
        {
          "description": "Realtime conversation streaming payload event.",
          "type": "object",
          "required": [
            "payload",
            "type"
          ],
          "properties": {
            "payload": {
              "$ref": "#/definitions/RealtimeEvent"
            },
            "type": {
              "type": "string",
              "enum": [
                "realtime_conversation_realtime"
              ],
              "title": "RealtimeConversationRealtimeEventMsgType"
            }
          },
          "title": "RealtimeConversationRealtimeEventMsg"
        },
        {
          "description": "Realtime conversation lifecycle close event.",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "reason": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "realtime_conversation_closed"
              ],
              "title": "RealtimeConversationClosedEventMsgType"
            }
          },
          "title": "RealtimeConversationClosedEventMsg"
        },
        {
          "description": "Model routing changed from the requested model to a different model.",
          "type": "object",
          "required": [
            "from_model",
            "reason",
            "to_model",
            "type"
          ],
          "properties": {
            "from_model": {
              "type": "string"
            },
            "reason": {
              "$ref": "#/definitions/v2/ModelRerouteReason"
            },
            "to_model": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "model_reroute"
              ],
              "title": "ModelRerouteEventMsgType"
            }
          },
          "title": "ModelRerouteEventMsg"
        },
        {
          "description": "Conversation history was compacted (either automatically or manually).",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "context_compacted"
              ],
              "title": "ContextCompactedEventMsgType"
            }
          },
          "title": "ContextCompactedEventMsg"
        },
        {
          "description": "Conversation history was rolled back by dropping the last N user turns.",
          "type": "object",
          "required": [
            "num_turns",
            "type"
          ],
          "properties": {
            "num_turns": {
              "description": "Number of user turns that were removed from context.",
              "type": "integer",
              "format": "uint32",
              "minimum": 0.0
            },
            "type": {
              "type": "string",
              "enum": [
                "thread_rolled_back"
              ],
              "title": "ThreadRolledBackEventMsgType"
            }
          },
          "title": "ThreadRolledBackEventMsg"
        },
        {
          "description": "Agent has started a turn. v1 wire format uses `task_started`; accept `turn_started` for v2 interop.",
          "type": "object",
          "required": [
            "turn_id",
            "type"
          ],
          "properties": {
            "collaboration_mode_kind": {
              "default": "default",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ModeKind"
                }
              ]
            },
            "model_context_window": {
              "type": [
                "integer",
                "null"
              ],
              "format": "int64"
            },
            "turn_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "task_started"
              ],
              "title": "TaskStartedEventMsgType"
            }
          },
          "title": "TaskStartedEventMsg"
        },
        {
          "description": "Agent has completed all actions. v1 wire format uses `task_complete`; accept `turn_complete` for v2 interop.",
          "type": "object",
          "required": [
            "turn_id",
            "type"
          ],
          "properties": {
            "last_agent_message": {
              "type": [
                "string",
                "null"
              ]
            },
            "turn_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "task_complete"
              ],
              "title": "TaskCompleteEventMsgType"
            }
          },
          "title": "TaskCompleteEventMsg"
        },
        {
          "description": "Usage update for the current session, including totals and last turn. Optional means unknown  UIs should not display when `None`.",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "info": {
              "anyOf": [
                {
                  "$ref": "#/definitions/TokenUsageInfo"
                },
                {
                  "type": "null"
                }
              ]
            },
            "rate_limits": {
              "anyOf": [
                {
                  "$ref": "#/definitions/v2/RateLimitSnapshot"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "token_count"
              ],
              "title": "TokenCountEventMsgType"
            }
          },
          "title": "TokenCountEventMsg"
        },
        {
          "description": "Agent text output message",
          "type": "object",
          "required": [
            "message",
            "type"
          ],
          "properties": {
            "message": {
              "type": "string"
            },
            "phase": {
              "default": null,
              "anyOf": [
                {
                  "$ref": "#/definitions/v2/MessagePhase"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "agent_message"
              ],
              "title": "AgentMessageEventMsgType"
            }
          },
          "title": "AgentMessageEventMsg"
        },
        {
          "description": "User/system input message (what was sent to the model)",
          "type": "object",
          "required": [
            "message",
            "type"
          ],
          "properties": {
            "images": {
              "description": "Image URLs sourced from `UserInput::Image`. These are safe to replay in legacy UI history events and correspond to images sent to the model.",
              "type": [
                "array",
                "null"
              ],
              "items": {
                "type": "string"
              }
            },
            "local_images": {
              "description": "Local file paths sourced from `UserInput::LocalImage`. These are kept so the UI can reattach images when editing history, and should not be sent to the model or treated as API-ready URLs.",
              "default": [],
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "message": {
              "type": "string"
            },
            "text_elements": {
              "description": "UI-defined spans within `message` used to render or persist special elements.",
              "default": [],
              "type": "array",
              "items": {
                "$ref": "#/definitions/v2/TextElement"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "user_message"
              ],
              "title": "UserMessageEventMsgType"
            }
          },
          "title": "UserMessageEventMsg"
        },
        {
          "description": "Agent text output delta message",
          "type": "object",
          "required": [
            "delta",
            "type"
          ],
          "properties": {
            "delta": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "agent_message_delta"
              ],
              "title": "AgentMessageDeltaEventMsgType"
            }
          },
          "title": "AgentMessageDeltaEventMsg"
        },
        {
          "description": "Reasoning event from agent.",
          "type": "object",
          "required": [
            "text",
            "type"
          ],
          "properties": {
            "text": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "agent_reasoning"
              ],
              "title": "AgentReasoningEventMsgType"
            }
          },
          "title": "AgentReasoningEventMsg"
        },
        {
          "description": "Agent reasoning delta event from agent.",
          "type": "object",
          "required": [
            "delta",
            "type"
          ],
          "properties": {
            "delta": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "agent_reasoning_delta"
              ],
              "title": "AgentReasoningDeltaEventMsgType"
            }
          },
          "title": "AgentReasoningDeltaEventMsg"
        },
        {
          "description": "Raw chain-of-thought from agent.",
          "type": "object",
          "required": [
            "text",
            "type"
          ],
          "properties": {
            "text": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "agent_reasoning_raw_content"
              ],
              "title": "AgentReasoningRawContentEventMsgType"
            }
          },
          "title": "AgentReasoningRawContentEventMsg"
        },
        {
          "description": "Agent reasoning content delta event from agent.",
          "type": "object",
          "required": [
            "delta",
            "type"
          ],
          "properties": {
            "delta": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "agent_reasoning_raw_content_delta"
              ],
              "title": "AgentReasoningRawContentDeltaEventMsgType"
            }
          },
          "title": "AgentReasoningRawContentDeltaEventMsg"
        },
        {
          "description": "Signaled when the model begins a new reasoning summary section (e.g., a new titled block).",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "item_id": {
              "default": "",
              "type": "string"
            },
            "summary_index": {
              "default": 0,
              "type": "integer",
              "format": "int64"
            },
            "type": {
              "type": "string",
              "enum": [
                "agent_reasoning_section_break"
              ],
              "title": "AgentReasoningSectionBreakEventMsgType"
            }
          },
          "title": "AgentReasoningSectionBreakEventMsg"
        },
        {
          "description": "Ack the client's configure message.",
          "type": "object",
          "required": [
            "approval_policy",
            "cwd",
            "history_entry_count",
            "history_log_id",
            "model",
            "model_provider_id",
            "sandbox_policy",
            "session_id",
            "type"
          ],
          "properties": {
            "approval_policy": {
              "description": "When to escalate for approval for execution",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/AskForApproval"
                }
              ]
            },
            "cwd": {
              "description": "Working directory that should be treated as the *root* of the session.",
              "type": "string"
            },
            "forked_from_id": {
              "anyOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                },
                {
                  "type": "null"
                }
              ]
            },
            "history_entry_count": {
              "description": "Current number of entries in the history log.",
              "type": "integer",
              "format": "uint",
              "minimum": 0.0
            },
            "history_log_id": {
              "description": "Identifier of the history log file (inode on Unix, 0 otherwise).",
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "initial_messages": {
              "description": "Optional initial messages (as events) for resumed sessions. When present, UIs can use these to seed the history.",
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/EventMsg"
              }
            },
            "model": {
              "description": "Tell the client what model is being queried.",
              "type": "string"
            },
            "model_provider_id": {
              "type": "string"
            },
            "network_proxy": {
              "description": "Runtime proxy bind addresses, when the managed proxy was started for this session.",
              "anyOf": [
                {
                  "$ref": "#/definitions/SessionNetworkProxyRuntime"
                },
                {
                  "type": "null"
                }
              ]
            },
            "reasoning_effort": {
              "description": "The effort the model is putting into reasoning about the user's request.",
              "anyOf": [
                {
                  "$ref": "#/definitions/v2/ReasoningEffort"
                },
                {
                  "type": "null"
                }
              ]
            },
            "rollout_path": {
              "description": "Path in which the rollout is stored. Can be `None` for ephemeral threads",
              "type": [
                "string",
                "null"
              ]
            },
            "sandbox_policy": {
              "description": "How to sandbox commands executed in the system",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/SandboxPolicy"
                }
              ]
            },
            "session_id": {
              "$ref": "#/definitions/v2/ThreadId"
            },
            "thread_name": {
              "description": "Optional user-facing thread name (may be unset).",
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "session_configured"
              ],
              "title": "SessionConfiguredEventMsgType"
            }
          },
          "title": "SessionConfiguredEventMsg"
        },
        {
          "description": "Updated session metadata (e.g., thread name changes).",
          "type": "object",
          "required": [
            "thread_id",
            "type"
          ],
          "properties": {
            "thread_id": {
              "$ref": "#/definitions/v2/ThreadId"
            },
            "thread_name": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "thread_name_updated"
              ],
              "title": "ThreadNameUpdatedEventMsgType"
            }
          },
          "title": "ThreadNameUpdatedEventMsg"
        },
        {
          "description": "Incremental MCP startup progress updates.",
          "type": "object",
          "required": [
            "server",
            "status",
            "type"
          ],
          "properties": {
            "server": {
              "description": "Server name being started.",
              "type": "string"
            },
            "status": {
              "description": "Current startup status.",
              "allOf": [
                {
                  "$ref": "#/definitions/McpStartupStatus"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "mcp_startup_update"
              ],
              "title": "McpStartupUpdateEventMsgType"
            }
          },
          "title": "McpStartupUpdateEventMsg"
        },
        {
          "description": "Aggregate MCP startup completion summary.",
          "type": "object",
          "required": [
            "cancelled",
            "failed",
            "ready",
            "type"
          ],
          "properties": {
            "cancelled": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "failed": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/McpStartupFailure"
              }
            },
            "ready": {
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "mcp_startup_complete"
              ],
              "title": "McpStartupCompleteEventMsgType"
            }
          },
          "title": "McpStartupCompleteEventMsg"
        },
        {
          "type": "object",
          "required": [
            "call_id",
            "invocation",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier so this can be paired with the McpToolCallEnd event.",
              "type": "string"
            },
            "invocation": {
              "$ref": "#/definitions/McpInvocation"
            },
            "type": {
              "type": "string",
              "enum": [
                "mcp_tool_call_begin"
              ],
              "title": "McpToolCallBeginEventMsgType"
            }
          },
          "title": "McpToolCallBeginEventMsg"
        },
        {
          "type": "object",
          "required": [
            "call_id",
            "duration",
            "invocation",
            "result",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the corresponding McpToolCallBegin that finished.",
              "type": "string"
            },
            "duration": {
              "$ref": "#/definitions/Duration"
            },
            "invocation": {
              "$ref": "#/definitions/McpInvocation"
            },
            "result": {
              "description": "Result of the tool call. Note this could be an error.",
              "allOf": [
                {
                  "$ref": "#/definitions/Result_of_CallToolResult_or_String"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "mcp_tool_call_end"
              ],
              "title": "McpToolCallEndEventMsgType"
            }
          },
          "title": "McpToolCallEndEventMsg"
        },
        {
          "type": "object",
          "required": [
            "call_id",
            "type"
          ],
          "properties": {
            "call_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "web_search_begin"
              ],
              "title": "WebSearchBeginEventMsgType"
            }
          },
          "title": "WebSearchBeginEventMsg"
        },
        {
          "type": "object",
          "required": [
            "action",
            "call_id",
            "query",
            "type"
          ],
          "properties": {
            "action": {
              "$ref": "#/definitions/v2/WebSearchAction"
            },
            "call_id": {
              "type": "string"
            },
            "query": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "web_search_end"
              ],
              "title": "WebSearchEndEventMsgType"
            }
          },
          "title": "WebSearchEndEventMsg"
        },
        {
          "description": "Notification that the server is about to execute a command.",
          "type": "object",
          "required": [
            "call_id",
            "command",
            "cwd",
            "parsed_cmd",
            "turn_id",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier so this can be paired with the ExecCommandEnd event.",
              "type": "string"
            },
            "command": {
              "description": "The command to be executed.",
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "cwd": {
              "description": "The command's working directory if not the default cwd for the agent.",
              "type": "string"
            },
            "interaction_input": {
              "description": "Raw input sent to a unified exec session (if this is an interaction event).",
              "type": [
                "string",
                "null"
              ]
            },
            "parsed_cmd": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ParsedCommand"
              }
            },
            "process_id": {
              "description": "Identifier for the underlying PTY process (when available).",
              "type": [
                "string",
                "null"
              ]
            },
            "source": {
              "description": "Where the command originated. Defaults to Agent for backward compatibility.",
              "default": "agent",
              "allOf": [
                {
                  "$ref": "#/definitions/ExecCommandSource"
                }
              ]
            },
            "turn_id": {
              "description": "Turn ID that this command belongs to.",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "exec_command_begin"
              ],
              "title": "ExecCommandBeginEventMsgType"
            }
          },
          "title": "ExecCommandBeginEventMsg"
        },
        {
          "description": "Incremental chunk of output from a running command.",
          "type": "object",
          "required": [
            "call_id",
            "chunk",
            "stream",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the ExecCommandBegin that produced this chunk.",
              "type": "string"
            },
            "chunk": {
              "description": "Raw bytes from the stream (may not be valid UTF-8).",
              "type": "string"
            },
            "stream": {
              "description": "Which stream produced this chunk.",
              "allOf": [
                {
                  "$ref": "#/definitions/ExecOutputStream"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "exec_command_output_delta"
              ],
              "title": "ExecCommandOutputDeltaEventMsgType"
            }
          },
          "title": "ExecCommandOutputDeltaEventMsg"
        },
        {
          "description": "Terminal interaction for an in-progress command (stdin sent and stdout observed).",
          "type": "object",
          "required": [
            "call_id",
            "process_id",
            "stdin",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the ExecCommandBegin that produced this chunk.",
              "type": "string"
            },
            "process_id": {
              "description": "Process id associated with the running command.",
              "type": "string"
            },
            "stdin": {
              "description": "Stdin sent to the running session.",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "terminal_interaction"
              ],
              "title": "TerminalInteractionEventMsgType"
            }
          },
          "title": "TerminalInteractionEventMsg"
        },
        {
          "type": "object",
          "required": [
            "call_id",
            "command",
            "cwd",
            "duration",
            "exit_code",
            "formatted_output",
            "parsed_cmd",
            "status",
            "stderr",
            "stdout",
            "turn_id",
            "type"
          ],
          "properties": {
            "aggregated_output": {
              "description": "Captured aggregated output",
              "default": "",
              "type": "string"
            },
            "call_id": {
              "description": "Identifier for the ExecCommandBegin that finished.",
              "type": "string"
            },
            "command": {
              "description": "The command that was executed.",
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "cwd": {
              "description": "The command's working directory if not the default cwd for the agent.",
              "type": "string"
            },
            "duration": {
              "description": "The duration of the command execution.",
              "allOf": [
                {
                  "$ref": "#/definitions/Duration"
                }
              ]
            },
            "exit_code": {
              "description": "The command's exit code.",
              "type": "integer",
              "format": "int32"
            },
            "formatted_output": {
              "description": "Formatted output from the command, as seen by the model.",
              "type": "string"
            },
            "interaction_input": {
              "description": "Raw input sent to a unified exec session (if this is an interaction event).",
              "type": [
                "string",
                "null"
              ]
            },
            "parsed_cmd": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ParsedCommand"
              }
            },
            "process_id": {
              "description": "Identifier for the underlying PTY process (when available).",
              "type": [
                "string",
                "null"
              ]
            },
            "source": {
              "description": "Where the command originated. Defaults to Agent for backward compatibility.",
              "default": "agent",
              "allOf": [
                {
                  "$ref": "#/definitions/ExecCommandSource"
                }
              ]
            },
            "status": {
              "description": "Completion status for this command execution.",
              "allOf": [
                {
                  "$ref": "#/definitions/ExecCommandStatus"
                }
              ]
            },
            "stderr": {
              "description": "Captured stderr",
              "type": "string"
            },
            "stdout": {
              "description": "Captured stdout",
              "type": "string"
            },
            "turn_id": {
              "description": "Turn ID that this command belongs to.",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "exec_command_end"
              ],
              "title": "ExecCommandEndEventMsgType"
            }
          },
          "title": "ExecCommandEndEventMsg"
        },
        {
          "description": "Notification that the agent attached a local image via the view_image tool.",
          "type": "object",
          "required": [
            "call_id",
            "path",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the originating tool call.",
              "type": "string"
            },
            "path": {
              "description": "Local filesystem path provided to the tool.",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "view_image_tool_call"
              ],
              "title": "ViewImageToolCallEventMsgType"
            }
          },
          "title": "ViewImageToolCallEventMsg"
        },
        {
          "type": "object",
          "required": [
            "call_id",
            "command",
            "cwd",
            "parsed_cmd",
            "type"
          ],
          "properties": {
            "additional_permissions": {
              "description": "Optional additional filesystem permissions requested for this command.",
              "anyOf": [
                {
                  "$ref": "#/definitions/PermissionProfile"
                },
                {
                  "type": "null"
                }
              ]
            },
            "approval_id": {
              "description": "Identifier for this specific approval callback.\n\nWhen absent, the approval is for the command item itself (`call_id`). This is present for subcommand approvals (via execve intercept).",
              "type": [
                "string",
                "null"
              ]
            },
            "call_id": {
              "description": "Identifier for the associated command execution item.",
              "type": "string"
            },
            "command": {
              "description": "The command to be executed.",
              "type": "array",
              "items": {
                "type": "string"
              }
            },
            "cwd": {
              "description": "The command's working directory.",
              "type": "string"
            },
            "network_approval_context": {
              "description": "Optional network context for a blocked request that can be approved.",
              "anyOf": [
                {
                  "$ref": "#/definitions/NetworkApprovalContext"
                },
                {
                  "type": "null"
                }
              ]
            },
            "parsed_cmd": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ParsedCommand"
              }
            },
            "proposed_execpolicy_amendment": {
              "description": "Proposed execpolicy amendment that can be applied to allow future runs.",
              "type": [
                "array",
                "null"
              ],
              "items": {
                "type": "string"
              }
            },
            "proposed_network_policy_amendments": {
              "description": "Proposed network policy amendments (for example allow/deny this host in future).",
              "type": [
                "array",
                "null"
              ],
              "items": {
                "$ref": "#/definitions/NetworkPolicyAmendment"
              }
            },
            "reason": {
              "description": "Optional human-readable reason for the approval (e.g. retry without sandbox).",
              "type": [
                "string",
                "null"
              ]
            },
            "turn_id": {
              "description": "Turn ID that this command belongs to. Uses `#[serde(default)]` for backwards compatibility.",
              "default": "",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "exec_approval_request"
              ],
              "title": "ExecApprovalRequestEventMsgType"
            }
          },
          "title": "ExecApprovalRequestEventMsg"
        },
        {
          "type": "object",
          "required": [
            "call_id",
            "questions",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Responses API call id for the associated tool call, if available.",
              "type": "string"
            },
            "questions": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/RequestUserInputQuestion"
              }
            },
            "turn_id": {
              "description": "Turn ID that this request belongs to. Uses `#[serde(default)]` for backwards compatibility.",
              "default": "",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "request_user_input"
              ],
              "title": "RequestUserInputEventMsgType"
            }
          },
          "title": "RequestUserInputEventMsg"
        },
        {
          "type": "object",
          "required": [
            "arguments",
            "callId",
            "tool",
            "turnId",
            "type"
          ],
          "properties": {
            "arguments": true,
            "callId": {
              "type": "string"
            },
            "tool": {
              "type": "string"
            },
            "turnId": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "dynamic_tool_call_request"
              ],
              "title": "DynamicToolCallRequestEventMsgType"
            }
          },
          "title": "DynamicToolCallRequestEventMsg"
        },
        {
          "type": "object",
          "required": [
            "item_id",
            "skill_name",
            "type"
          ],
          "properties": {
            "item_id": {
              "type": "string"
            },
            "skill_name": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "skill_request_approval"
              ],
              "title": "SkillRequestApprovalEventMsgType"
            }
          },
          "title": "SkillRequestApprovalEventMsg"
        },
        {
          "type": "object",
          "required": [
            "id",
            "message",
            "server_name",
            "type"
          ],
          "properties": {
            "id": {
              "$ref": "#/definitions/RequestId"
            },
            "message": {
              "type": "string"
            },
            "server_name": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "elicitation_request"
              ],
              "title": "ElicitationRequestEventMsgType"
            }
          },
          "title": "ElicitationRequestEventMsg"
        },
        {
          "type": "object",
          "required": [
            "call_id",
            "changes",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Responses API call id for the associated patch apply call, if available.",
              "type": "string"
            },
            "changes": {
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/FileChange"
              }
            },
            "grant_root": {
              "description": "When set, the agent is asking the user to allow writes under this root for the remainder of the session.",
              "type": [
                "string",
                "null"
              ]
            },
            "reason": {
              "description": "Optional explanatory reason (e.g. request for extra write access).",
              "type": [
                "string",
                "null"
              ]
            },
            "turn_id": {
              "description": "Turn ID that this patch belongs to. Uses `#[serde(default)]` for backwards compatibility with older senders.",
              "default": "",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "apply_patch_approval_request"
              ],
              "title": "ApplyPatchApprovalRequestEventMsgType"
            }
          },
          "title": "ApplyPatchApprovalRequestEventMsg"
        },
        {
          "description": "Notification advising the user that something they are using has been deprecated and should be phased out.",
          "type": "object",
          "required": [
            "summary",
            "type"
          ],
          "properties": {
            "details": {
              "description": "Optional extra guidance, such as migration steps or rationale.",
              "type": [
                "string",
                "null"
              ]
            },
            "summary": {
              "description": "Concise summary of what is deprecated.",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "deprecation_notice"
              ],
              "title": "DeprecationNoticeEventMsgType"
            }
          },
          "title": "DeprecationNoticeEventMsg"
        },
        {
          "type": "object",
          "required": [
            "message",
            "type"
          ],
          "properties": {
            "message": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "background_event"
              ],
              "title": "BackgroundEventEventMsgType"
            }
          },
          "title": "BackgroundEventEventMsg"
        },
        {
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "message": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "undo_started"
              ],
              "title": "UndoStartedEventMsgType"
            }
          },
          "title": "UndoStartedEventMsg"
        },
        {
          "type": "object",
          "required": [
            "success",
            "type"
          ],
          "properties": {
            "message": {
              "type": [
                "string",
                "null"
              ]
            },
            "success": {
              "type": "boolean"
            },
            "type": {
              "type": "string",
              "enum": [
                "undo_completed"
              ],
              "title": "UndoCompletedEventMsgType"
            }
          },
          "title": "UndoCompletedEventMsg"
        },
        {
          "description": "Notification that a model stream experienced an error or disconnect and the system is handling it (e.g., retrying with backoff).",
          "type": "object",
          "required": [
            "message",
            "type"
          ],
          "properties": {
            "additional_details": {
              "description": "Optional details about the underlying stream failure (often the same human-readable message that is surfaced as the terminal error if retries are exhausted).",
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "codex_error_info": {
              "default": null,
              "anyOf": [
                {
                  "$ref": "#/definitions/v2/CodexErrorInfo"
                },
                {
                  "type": "null"
                }
              ]
            },
            "message": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "stream_error"
              ],
              "title": "StreamErrorEventMsgType"
            }
          },
          "title": "StreamErrorEventMsg"
        },
        {
          "description": "Notification that the agent is about to apply a code patch. Mirrors `ExecCommandBegin` so frontends can show progress indicators.",
          "type": "object",
          "required": [
            "auto_approved",
            "call_id",
            "changes",
            "type"
          ],
          "properties": {
            "auto_approved": {
              "description": "If true, there was no ApplyPatchApprovalRequest for this patch.",
              "type": "boolean"
            },
            "call_id": {
              "description": "Identifier so this can be paired with the PatchApplyEnd event.",
              "type": "string"
            },
            "changes": {
              "description": "The changes to be applied.",
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/FileChange"
              }
            },
            "turn_id": {
              "description": "Turn ID that this patch belongs to. Uses `#[serde(default)]` for backwards compatibility.",
              "default": "",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "patch_apply_begin"
              ],
              "title": "PatchApplyBeginEventMsgType"
            }
          },
          "title": "PatchApplyBeginEventMsg"
        },
        {
          "description": "Notification that a patch application has finished.",
          "type": "object",
          "required": [
            "call_id",
            "status",
            "stderr",
            "stdout",
            "success",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the PatchApplyBegin that finished.",
              "type": "string"
            },
            "changes": {
              "description": "The changes that were applied (mirrors PatchApplyBeginEvent::changes).",
              "default": {},
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/FileChange"
              }
            },
            "status": {
              "description": "Completion status for this patch application.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/PatchApplyStatus"
                }
              ]
            },
            "stderr": {
              "description": "Captured stderr (parser errors, IO failures, etc.).",
              "type": "string"
            },
            "stdout": {
              "description": "Captured stdout (summary printed by apply_patch).",
              "type": "string"
            },
            "success": {
              "description": "Whether the patch was applied successfully.",
              "type": "boolean"
            },
            "turn_id": {
              "description": "Turn ID that this patch belongs to. Uses `#[serde(default)]` for backwards compatibility.",
              "default": "",
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "patch_apply_end"
              ],
              "title": "PatchApplyEndEventMsgType"
            }
          },
          "title": "PatchApplyEndEventMsg"
        },
        {
          "type": "object",
          "required": [
            "type",
            "unified_diff"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "turn_diff"
              ],
              "title": "TurnDiffEventMsgType"
            },
            "unified_diff": {
              "type": "string"
            }
          },
          "title": "TurnDiffEventMsg"
        },
        {
          "description": "Response to GetHistoryEntryRequest.",
          "type": "object",
          "required": [
            "log_id",
            "offset",
            "type"
          ],
          "properties": {
            "entry": {
              "description": "The entry at the requested offset, if available and parseable.",
              "anyOf": [
                {
                  "$ref": "#/definitions/HistoryEntry"
                },
                {
                  "type": "null"
                }
              ]
            },
            "log_id": {
              "type": "integer",
              "format": "uint64",
              "minimum": 0.0
            },
            "offset": {
              "type": "integer",
              "format": "uint",
              "minimum": 0.0
            },
            "type": {
              "type": "string",
              "enum": [
                "get_history_entry_response"
              ],
              "title": "GetHistoryEntryResponseEventMsgType"
            }
          },
          "title": "GetHistoryEntryResponseEventMsg"
        },
        {
          "description": "List of MCP tools available to the agent.",
          "type": "object",
          "required": [
            "auth_statuses",
            "resource_templates",
            "resources",
            "tools",
            "type"
          ],
          "properties": {
            "auth_statuses": {
              "description": "Authentication status for each configured MCP server.",
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/v2/McpAuthStatus"
              }
            },
            "resource_templates": {
              "description": "Known resource templates grouped by server name.",
              "type": "object",
              "additionalProperties": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/ResourceTemplate"
                }
              }
            },
            "resources": {
              "description": "Known resources grouped by server name.",
              "type": "object",
              "additionalProperties": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/Resource"
                }
              }
            },
            "tools": {
              "description": "Fully qualified tool name -> tool definition.",
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/v2/Tool"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "mcp_list_tools_response"
              ],
              "title": "McpListToolsResponseEventMsgType"
            }
          },
          "title": "McpListToolsResponseEventMsg"
        },
        {
          "description": "List of custom prompts available to the agent.",
          "type": "object",
          "required": [
            "custom_prompts",
            "type"
          ],
          "properties": {
            "custom_prompts": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/CustomPrompt"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "list_custom_prompts_response"
              ],
              "title": "ListCustomPromptsResponseEventMsgType"
            }
          },
          "title": "ListCustomPromptsResponseEventMsg"
        },
        {
          "description": "List of skills available to the agent.",
          "type": "object",
          "required": [
            "skills",
            "type"
          ],
          "properties": {
            "skills": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v2/SkillsListEntry"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "list_skills_response"
              ],
              "title": "ListSkillsResponseEventMsgType"
            }
          },
          "title": "ListSkillsResponseEventMsg"
        },
        {
          "description": "List of remote skills available to the agent.",
          "type": "object",
          "required": [
            "skills",
            "type"
          ],
          "properties": {
            "skills": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/v2/RemoteSkillSummary"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "list_remote_skills_response"
              ],
              "title": "ListRemoteSkillsResponseEventMsgType"
            }
          },
          "title": "ListRemoteSkillsResponseEventMsg"
        },
        {
          "description": "Remote skill downloaded to local cache.",
          "type": "object",
          "required": [
            "id",
            "name",
            "path",
            "type"
          ],
          "properties": {
            "id": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "path": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "remote_skill_downloaded"
              ],
              "title": "RemoteSkillDownloadedEventMsgType"
            }
          },
          "title": "RemoteSkillDownloadedEventMsg"
        },
        {
          "description": "Notification that skill data may have been updated and clients may want to reload.",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "skills_update_available"
              ],
              "title": "SkillsUpdateAvailableEventMsgType"
            }
          },
          "title": "SkillsUpdateAvailableEventMsg"
        },
        {
          "type": "object",
          "required": [
            "plan",
            "type"
          ],
          "properties": {
            "explanation": {
              "description": "Arguments for the `update_plan` todo/checklist tool (not plan mode).",
              "default": null,
              "type": [
                "string",
                "null"
              ]
            },
            "plan": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PlanItemArg"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "plan_update"
              ],
              "title": "PlanUpdateEventMsgType"
            }
          },
          "title": "PlanUpdateEventMsg"
        },
        {
          "type": "object",
          "required": [
            "reason",
            "type"
          ],
          "properties": {
            "reason": {
              "$ref": "#/definitions/TurnAbortReason"
            },
            "turn_id": {
              "type": [
                "string",
                "null"
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "turn_aborted"
              ],
              "title": "TurnAbortedEventMsgType"
            }
          },
          "title": "TurnAbortedEventMsg"
        },
        {
          "description": "Notification that the agent is shutting down.",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "shutdown_complete"
              ],
              "title": "ShutdownCompleteEventMsgType"
            }
          },
          "title": "ShutdownCompleteEventMsg"
        },
        {
          "description": "Entered review mode.",
          "type": "object",
          "required": [
            "target",
            "type"
          ],
          "properties": {
            "target": {
              "$ref": "#/definitions/v2/ReviewTarget"
            },
            "type": {
              "type": "string",
              "enum": [
                "entered_review_mode"
              ],
              "title": "EnteredReviewModeEventMsgType"
            },
            "user_facing_hint": {
              "type": [
                "string",
                "null"
              ]
            }
          },
          "title": "EnteredReviewModeEventMsg"
        },
        {
          "description": "Exited review mode with an optional final result to apply.",
          "type": "object",
          "required": [
            "type"
          ],
          "properties": {
            "review_output": {
              "anyOf": [
                {
                  "$ref": "#/definitions/ReviewOutputEvent"
                },
                {
                  "type": "null"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "exited_review_mode"
              ],
              "title": "ExitedReviewModeEventMsgType"
            }
          },
          "title": "ExitedReviewModeEventMsg"
        },
        {
          "type": "object",
          "required": [
            "item",
            "type"
          ],
          "properties": {
            "item": {
              "$ref": "#/definitions/v2/ResponseItem"
            },
            "type": {
              "type": "string",
              "enum": [
                "raw_response_item"
              ],
              "title": "RawResponseItemEventMsgType"
            }
          },
          "title": "RawResponseItemEventMsg"
        },
        {
          "type": "object",
          "required": [
            "item",
            "thread_id",
            "turn_id",
            "type"
          ],
          "properties": {
            "item": {
              "$ref": "#/definitions/TurnItem"
            },
            "thread_id": {
              "$ref": "#/definitions/v2/ThreadId"
            },
            "turn_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "item_started"
              ],
              "title": "ItemStartedEventMsgType"
            }
          },
          "title": "ItemStartedEventMsg"
        },
        {
          "type": "object",
          "required": [
            "item",
            "thread_id",
            "turn_id",
            "type"
          ],
          "properties": {
            "item": {
              "$ref": "#/definitions/TurnItem"
            },
            "thread_id": {
              "$ref": "#/definitions/v2/ThreadId"
            },
            "turn_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "item_completed"
              ],
              "title": "ItemCompletedEventMsgType"
            }
          },
          "title": "ItemCompletedEventMsg"
        },
        {
          "type": "object",
          "required": [
            "delta",
            "item_id",
            "thread_id",
            "turn_id",
            "type"
          ],
          "properties": {
            "delta": {
              "type": "string"
            },
            "item_id": {
              "type": "string"
            },
            "thread_id": {
              "type": "string"
            },
            "turn_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "agent_message_content_delta"
              ],
              "title": "AgentMessageContentDeltaEventMsgType"
            }
          },
          "title": "AgentMessageContentDeltaEventMsg"
        },
        {
          "type": "object",
          "required": [
            "delta",
            "item_id",
            "thread_id",
            "turn_id",
            "type"
          ],
          "properties": {
            "delta": {
              "type": "string"
            },
            "item_id": {
              "type": "string"
            },
            "thread_id": {
              "type": "string"
            },
            "turn_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "plan_delta"
              ],
              "title": "PlanDeltaEventMsgType"
            }
          },
          "title": "PlanDeltaEventMsg"
        },
        {
          "type": "object",
          "required": [
            "delta",
            "item_id",
            "thread_id",
            "turn_id",
            "type"
          ],
          "properties": {
            "delta": {
              "type": "string"
            },
            "item_id": {
              "type": "string"
            },
            "summary_index": {
              "default": 0,
              "type": "integer",
              "format": "int64"
            },
            "thread_id": {
              "type": "string"
            },
            "turn_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "reasoning_content_delta"
              ],
              "title": "ReasoningContentDeltaEventMsgType"
            }
          },
          "title": "ReasoningContentDeltaEventMsg"
        },
        {
          "type": "object",
          "required": [
            "delta",
            "item_id",
            "thread_id",
            "turn_id",
            "type"
          ],
          "properties": {
            "content_index": {
              "default": 0,
              "type": "integer",
              "format": "int64"
            },
            "delta": {
              "type": "string"
            },
            "item_id": {
              "type": "string"
            },
            "thread_id": {
              "type": "string"
            },
            "turn_id": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "reasoning_raw_content_delta"
              ],
              "title": "ReasoningRawContentDeltaEventMsgType"
            }
          },
          "title": "ReasoningRawContentDeltaEventMsg"
        },
        {
          "description": "Collab interaction: agent spawn begin.",
          "type": "object",
          "required": [
            "call_id",
            "prompt",
            "sender_thread_id",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the collab tool call.",
              "type": "string"
            },
            "prompt": {
              "description": "Initial prompt sent to the agent. Can be empty to prevent CoT leaking at the beginning.",
              "type": "string"
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_agent_spawn_begin"
              ],
              "title": "CollabAgentSpawnBeginEventMsgType"
            }
          },
          "title": "CollabAgentSpawnBeginEventMsg"
        },
        {
          "description": "Collab interaction: agent spawn end.",
          "type": "object",
          "required": [
            "call_id",
            "prompt",
            "sender_thread_id",
            "status",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the collab tool call.",
              "type": "string"
            },
            "new_agent_nickname": {
              "description": "Optional nickname assigned to the new agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "new_agent_role": {
              "description": "Optional role assigned to the new agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "new_thread_id": {
              "description": "Thread ID of the newly spawned agent, if it was created.",
              "anyOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                },
                {
                  "type": "null"
                }
              ]
            },
            "prompt": {
              "description": "Initial prompt sent to the agent. Can be empty to prevent CoT leaking at the beginning.",
              "type": "string"
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "status": {
              "description": "Last known status of the new agent reported to the sender agent.",
              "allOf": [
                {
                  "$ref": "#/definitions/AgentStatus"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_agent_spawn_end"
              ],
              "title": "CollabAgentSpawnEndEventMsgType"
            }
          },
          "title": "CollabAgentSpawnEndEventMsg"
        },
        {
          "description": "Collab interaction: agent interaction begin.",
          "type": "object",
          "required": [
            "call_id",
            "prompt",
            "receiver_thread_id",
            "sender_thread_id",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the collab tool call.",
              "type": "string"
            },
            "prompt": {
              "description": "Prompt sent from the sender to the receiver. Can be empty to prevent CoT leaking at the beginning.",
              "type": "string"
            },
            "receiver_thread_id": {
              "description": "Thread ID of the receiver.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_agent_interaction_begin"
              ],
              "title": "CollabAgentInteractionBeginEventMsgType"
            }
          },
          "title": "CollabAgentInteractionBeginEventMsg"
        },
        {
          "description": "Collab interaction: agent interaction end.",
          "type": "object",
          "required": [
            "call_id",
            "prompt",
            "receiver_thread_id",
            "sender_thread_id",
            "status",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the collab tool call.",
              "type": "string"
            },
            "prompt": {
              "description": "Prompt sent from the sender to the receiver. Can be empty to prevent CoT leaking at the beginning.",
              "type": "string"
            },
            "receiver_agent_nickname": {
              "description": "Optional nickname assigned to the receiver agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver_agent_role": {
              "description": "Optional role assigned to the receiver agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver_thread_id": {
              "description": "Thread ID of the receiver.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "status": {
              "description": "Last known status of the receiver agent reported to the sender agent.",
              "allOf": [
                {
                  "$ref": "#/definitions/AgentStatus"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_agent_interaction_end"
              ],
              "title": "CollabAgentInteractionEndEventMsgType"
            }
          },
          "title": "CollabAgentInteractionEndEventMsg"
        },
        {
          "description": "Collab interaction: waiting begin.",
          "type": "object",
          "required": [
            "call_id",
            "receiver_thread_ids",
            "sender_thread_id",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "ID of the waiting call.",
              "type": "string"
            },
            "receiver_agents": {
              "description": "Optional nicknames/roles for receivers.",
              "type": "array",
              "items": {
                "$ref": "#/definitions/CollabAgentRef"
              }
            },
            "receiver_thread_ids": {
              "description": "Thread ID of the receivers.",
              "type": "array",
              "items": {
                "$ref": "#/definitions/v2/ThreadId"
              }
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_waiting_begin"
              ],
              "title": "CollabWaitingBeginEventMsgType"
            }
          },
          "title": "CollabWaitingBeginEventMsg"
        },
        {
          "description": "Collab interaction: waiting end.",
          "type": "object",
          "required": [
            "call_id",
            "sender_thread_id",
            "statuses",
            "type"
          ],
          "properties": {
            "agent_statuses": {
              "description": "Optional receiver metadata paired with final statuses.",
              "type": "array",
              "items": {
                "$ref": "#/definitions/CollabAgentStatusEntry"
              }
            },
            "call_id": {
              "description": "ID of the waiting call.",
              "type": "string"
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "statuses": {
              "description": "Last known status of the receiver agents reported to the sender agent.",
              "type": "object",
              "additionalProperties": {
                "$ref": "#/definitions/AgentStatus"
              }
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_waiting_end"
              ],
              "title": "CollabWaitingEndEventMsgType"
            }
          },
          "title": "CollabWaitingEndEventMsg"
        },
        {
          "description": "Collab interaction: close begin.",
          "type": "object",
          "required": [
            "call_id",
            "receiver_thread_id",
            "sender_thread_id",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the collab tool call.",
              "type": "string"
            },
            "receiver_thread_id": {
              "description": "Thread ID of the receiver.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_close_begin"
              ],
              "title": "CollabCloseBeginEventMsgType"
            }
          },
          "title": "CollabCloseBeginEventMsg"
        },
        {
          "description": "Collab interaction: close end.",
          "type": "object",
          "required": [
            "call_id",
            "receiver_thread_id",
            "sender_thread_id",
            "status",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the collab tool call.",
              "type": "string"
            },
            "receiver_agent_nickname": {
              "description": "Optional nickname assigned to the receiver agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver_agent_role": {
              "description": "Optional role assigned to the receiver agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver_thread_id": {
              "description": "Thread ID of the receiver.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "status": {
              "description": "Last known status of the receiver agent reported to the sender agent before the close.",
              "allOf": [
                {
                  "$ref": "#/definitions/AgentStatus"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_close_end"
              ],
              "title": "CollabCloseEndEventMsgType"
            }
          },
          "title": "CollabCloseEndEventMsg"
        },
        {
          "description": "Collab interaction: resume begin.",
          "type": "object",
          "required": [
            "call_id",
            "receiver_thread_id",
            "sender_thread_id",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the collab tool call.",
              "type": "string"
            },
            "receiver_agent_nickname": {
              "description": "Optional nickname assigned to the receiver agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver_agent_role": {
              "description": "Optional role assigned to the receiver agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver_thread_id": {
              "description": "Thread ID of the receiver.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_resume_begin"
              ],
              "title": "CollabResumeBeginEventMsgType"
            }
          },
          "title": "CollabResumeBeginEventMsg"
        },
        {
          "description": "Collab interaction: resume end.",
          "type": "object",
          "required": [
            "call_id",
            "receiver_thread_id",
            "sender_thread_id",
            "status",
            "type"
          ],
          "properties": {
            "call_id": {
              "description": "Identifier for the collab tool call.",
              "type": "string"
            },
            "receiver_agent_nickname": {
              "description": "Optional nickname assigned to the receiver agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver_agent_role": {
              "description": "Optional role assigned to the receiver agent.",
              "type": [
                "string",
                "null"
              ]
            },
            "receiver_thread_id": {
              "description": "Thread ID of the receiver.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "sender_thread_id": {
              "description": "Thread ID of the sender.",
              "allOf": [
                {
                  "$ref": "#/definitions/v2/ThreadId"
                }
              ]
            },
            "status": {
              "description": "Last known status of the receiver agent reported to the sender agent after resume.",
              "allOf": [
                {
                  "$ref": "#/definitions/AgentStatus"
                }
              ]
            },
            "type": {
              "type": "string",
              "enum": [
                "collab_resume_end"
              ],
              "title": "CollabResumeEndEventMsgType"
            }
          },
          "title": "CollabResumeEndEventMsg"
        }
      ]
    },
    "v2": {
      "AskForApproval": {
        "oneOf": [
          {
            "type": "string",
            "enum": [
              "untrusted",
              "on-failure",
              "on-request",
              "never"
            ]
          },
          {
            "type": "object",
            "required": [
              "reject"
            ],
            "properties": {
              "reject": {
                "type": "object",
                "required": [
                  "mcp_elicitations",
                  "rules",
                  "sandbox_approval"
                ],
                "properties": {
                  "mcp_elicitations": {
                    "type": "boolean"
                  },
                  "rules": {
                    "type": "boolean"
                  },
                  "sandbox_approval": {
                    "type": "boolean"
                  }
                }
              }
            },
            "additionalProperties": false,
            "title": "RejectAskForApproval"
          }
        ]
      },
      "DynamicToolSpec": {
        "type": "object",
        "required": [
          "description",
          "inputSchema",
          "name"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "inputSchema": true,
          "name": {
            "type": "string"
          }
        }
      },
      "Personality": {
        "type": "string",
        "enum": [
          "none",
          "friendly",
          "pragmatic"
        ]
      },
      "SandboxMode": {
        "type": "string",
        "enum": [
          "read-only",
          "workspace-write",
          "danger-full-access"
        ]
      },
      "ThreadStartParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadStartParams",
        "type": "object",
        "properties": {
          "approvalPolicy": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AskForApproval"
              },
              {
                "type": "null"
              }
            ]
          },
          "baseInstructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "config": {
            "type": [
              "object",
              "null"
            ],
            "additionalProperties": true
          },
          "cwd": {
            "type": [
              "string",
              "null"
            ]
          },
          "developerInstructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "personality": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/Personality"
              },
              {
                "type": "null"
              }
            ]
          },
          "ephemeral": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "sandbox": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SandboxMode"
              },
              {
                "type": "null"
              }
            ]
          },
          "serviceName": {
            "type": [
              "string",
              "null"
            ]
          },
          "model": {
            "type": [
              "string",
              "null"
            ]
          },
          "modelProvider": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ContentItem": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "text",
              "type"
            ],
            "properties": {
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "input_text"
                ],
                "title": "InputTextContentItemType"
              }
            },
            "title": "InputTextContentItem"
          },
          {
            "type": "object",
            "required": [
              "image_url",
              "type"
            ],
            "properties": {
              "image_url": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "input_image"
                ],
                "title": "InputImageContentItemType"
              }
            },
            "title": "InputImageContentItem"
          },
          {
            "type": "object",
            "required": [
              "text",
              "type"
            ],
            "properties": {
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "output_text"
                ],
                "title": "OutputTextContentItemType"
              }
            },
            "title": "OutputTextContentItem"
          }
        ]
      },
      "FunctionCallOutputBody": {
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/FunctionCallOutputContentItem"
            }
          }
        ]
      },
      "FunctionCallOutputContentItem": {
        "description": "Responses API compatible content items that can be returned by a tool call. This is a subset of ContentItem with the types we support as function call outputs.",
        "oneOf": [
          {
            "type": "object",
            "required": [
              "text",
              "type"
            ],
            "properties": {
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "input_text"
                ],
                "title": "InputTextFunctionCallOutputContentItemType"
              }
            },
            "title": "InputTextFunctionCallOutputContentItem"
          },
          {
            "type": "object",
            "required": [
              "image_url",
              "type"
            ],
            "properties": {
              "image_url": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "input_image"
                ],
                "title": "InputImageFunctionCallOutputContentItemType"
              }
            },
            "title": "InputImageFunctionCallOutputContentItem"
          }
        ]
      },
      "FunctionCallOutputPayload": {
        "description": "The payload we send back to OpenAI when reporting a tool call result.\n\n`body` serializes directly as the wire value for `function_call_output.output`. `success` remains internal metadata for downstream handling.",
        "type": "object",
        "required": [
          "body"
        ],
        "properties": {
          "body": {
            "$ref": "#/definitions/v2/FunctionCallOutputBody"
          },
          "success": {
            "type": [
              "boolean",
              "null"
            ]
          }
        }
      },
      "GhostCommit": {
        "description": "Details of a ghost commit created from a repository state.",
        "type": "object",
        "required": [
          "id",
          "preexisting_untracked_dirs",
          "preexisting_untracked_files"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "parent": {
            "type": [
              "string",
              "null"
            ]
          },
          "preexisting_untracked_dirs": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "preexisting_untracked_files": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "LocalShellAction": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "command",
              "type"
            ],
            "properties": {
              "command": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "env": {
                "type": [
                  "object",
                  "null"
                ],
                "additionalProperties": {
                  "type": "string"
                }
              },
              "timeout_ms": {
                "type": [
                  "integer",
                  "null"
                ],
                "format": "uint64",
                "minimum": 0.0
              },
              "type": {
                "type": "string",
                "enum": [
                  "exec"
                ],
                "title": "ExecLocalShellActionType"
              },
              "user": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "working_directory": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "title": "ExecLocalShellAction"
          }
        ]
      },
      "LocalShellStatus": {
        "type": "string",
        "enum": [
          "completed",
          "in_progress",
          "incomplete"
        ]
      },
      "MessagePhase": {
        "description": "Classifies an assistant message as interim commentary or final answer text.\n\nProviders do not emit this consistently, so callers must treat `None` as \"phase unknown\" and keep compatibility behavior for legacy models.",
        "oneOf": [
          {
            "description": "Mid-turn assistant text (for example preamble/progress narration).\n\nAdditional tool calls or assistant output may follow before turn completion.",
            "type": "string",
            "enum": [
              "commentary"
            ]
          },
          {
            "description": "The assistant's terminal answer text for the current turn.",
            "type": "string",
            "enum": [
              "final_answer"
            ]
          }
        ]
      },
      "ReasoningItemContent": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "text",
              "type"
            ],
            "properties": {
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "reasoning_text"
                ],
                "title": "ReasoningTextReasoningItemContentType"
              }
            },
            "title": "ReasoningTextReasoningItemContent"
          },
          {
            "type": "object",
            "required": [
              "text",
              "type"
            ],
            "properties": {
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "text"
                ],
                "title": "TextReasoningItemContentType"
              }
            },
            "title": "TextReasoningItemContent"
          }
        ]
      },
      "ReasoningItemReasoningSummary": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "text",
              "type"
            ],
            "properties": {
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "summary_text"
                ],
                "title": "SummaryTextReasoningItemReasoningSummaryType"
              }
            },
            "title": "SummaryTextReasoningItemReasoningSummary"
          }
        ]
      },
      "ResponseItem": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "content",
              "role",
              "type"
            ],
            "properties": {
              "content": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/ContentItem"
                }
              },
              "end_turn": {
                "type": [
                  "boolean",
                  "null"
                ]
              },
              "id": {
                "writeOnly": true,
                "type": [
                  "string",
                  "null"
                ]
              },
              "phase": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/v2/MessagePhase"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "role": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "message"
                ],
                "title": "MessageResponseItemType"
              }
            },
            "title": "MessageResponseItem"
          },
          {
            "type": "object",
            "required": [
              "id",
              "summary",
              "type"
            ],
            "properties": {
              "content": {
                "default": null,
                "type": [
                  "array",
                  "null"
                ],
                "items": {
                  "$ref": "#/definitions/v2/ReasoningItemContent"
                }
              },
              "encrypted_content": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "id": {
                "writeOnly": true,
                "type": "string"
              },
              "summary": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/ReasoningItemReasoningSummary"
                }
              },
              "type": {
                "type": "string",
                "enum": [
                  "reasoning"
                ],
                "title": "ReasoningResponseItemType"
              }
            },
            "title": "ReasoningResponseItem"
          },
          {
            "type": "object",
            "required": [
              "action",
              "status",
              "type"
            ],
            "properties": {
              "action": {
                "$ref": "#/definitions/v2/LocalShellAction"
              },
              "call_id": {
                "description": "Set when using the Responses API.",
                "type": [
                  "string",
                  "null"
                ]
              },
              "id": {
                "description": "Legacy id field retained for compatibility with older payloads.",
                "writeOnly": true,
                "type": [
                  "string",
                  "null"
                ]
              },
              "status": {
                "$ref": "#/definitions/v2/LocalShellStatus"
              },
              "type": {
                "type": "string",
                "enum": [
                  "local_shell_call"
                ],
                "title": "LocalShellCallResponseItemType"
              }
            },
            "title": "LocalShellCallResponseItem"
          },
          {
            "type": "object",
            "required": [
              "arguments",
              "call_id",
              "name",
              "type"
            ],
            "properties": {
              "arguments": {
                "type": "string"
              },
              "call_id": {
                "type": "string"
              },
              "id": {
                "writeOnly": true,
                "type": [
                  "string",
                  "null"
                ]
              },
              "name": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "function_call"
                ],
                "title": "FunctionCallResponseItemType"
              }
            },
            "title": "FunctionCallResponseItem"
          },
          {
            "type": "object",
            "required": [
              "call_id",
              "output",
              "type"
            ],
            "properties": {
              "call_id": {
                "type": "string"
              },
              "output": {
                "$ref": "#/definitions/v2/FunctionCallOutputPayload"
              },
              "type": {
                "type": "string",
                "enum": [
                  "function_call_output"
                ],
                "title": "FunctionCallOutputResponseItemType"
              }
            },
            "title": "FunctionCallOutputResponseItem"
          },
          {
            "type": "object",
            "required": [
              "call_id",
              "input",
              "name",
              "type"
            ],
            "properties": {
              "call_id": {
                "type": "string"
              },
              "id": {
                "writeOnly": true,
                "type": [
                  "string",
                  "null"
                ]
              },
              "input": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "status": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "custom_tool_call"
                ],
                "title": "CustomToolCallResponseItemType"
              }
            },
            "title": "CustomToolCallResponseItem"
          },
          {
            "type": "object",
            "required": [
              "call_id",
              "output",
              "type"
            ],
            "properties": {
              "call_id": {
                "type": "string"
              },
              "output": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "custom_tool_call_output"
                ],
                "title": "CustomToolCallOutputResponseItemType"
              }
            },
            "title": "CustomToolCallOutputResponseItem"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "action": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/v2/WebSearchAction"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "id": {
                "writeOnly": true,
                "type": [
                  "string",
                  "null"
                ]
              },
              "status": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "web_search_call"
                ],
                "title": "WebSearchCallResponseItemType"
              }
            },
            "title": "WebSearchCallResponseItem"
          },
          {
            "type": "object",
            "required": [
              "ghost_commit",
              "type"
            ],
            "properties": {
              "ghost_commit": {
                "$ref": "#/definitions/v2/GhostCommit"
              },
              "type": {
                "type": "string",
                "enum": [
                  "ghost_snapshot"
                ],
                "title": "GhostSnapshotResponseItemType"
              }
            },
            "title": "GhostSnapshotResponseItem"
          },
          {
            "type": "object",
            "required": [
              "encrypted_content",
              "type"
            ],
            "properties": {
              "encrypted_content": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "compaction"
                ],
                "title": "CompactionResponseItemType"
              }
            },
            "title": "CompactionResponseItem"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "other"
                ],
                "title": "OtherResponseItemType"
              }
            },
            "title": "OtherResponseItem"
          }
        ]
      },
      "WebSearchAction": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "queries": {
                "type": [
                  "array",
                  "null"
                ],
                "items": {
                  "type": "string"
                }
              },
              "query": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "search"
                ],
                "title": "SearchWebSearchActionType"
              }
            },
            "title": "SearchWebSearchAction"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "open_page"
                ],
                "title": "OpenPageWebSearchActionType"
              },
              "url": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "title": "OpenPageWebSearchAction"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "pattern": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "find_in_page"
                ],
                "title": "FindInPageWebSearchActionType"
              },
              "url": {
                "type": [
                  "string",
                  "null"
                ]
              }
            },
            "title": "FindInPageWebSearchAction"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "other"
                ],
                "title": "OtherWebSearchActionType"
              }
            },
            "title": "OtherWebSearchAction"
          }
        ]
      },
      "ThreadResumeParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadResumeParams",
        "description": "There are three ways to resume a thread: 1. By thread_id: load the thread from disk by thread_id and resume it. 2. By history: instantiate the thread from memory and resume it. 3. By path: load the thread from disk by path and resume it.\n\nThe precedence is: history > path > thread_id. If using history or path, the thread_id param will be ignored.\n\nPrefer using thread_id whenever possible.",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "approvalPolicy": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AskForApproval"
              },
              {
                "type": "null"
              }
            ]
          },
          "baseInstructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "config": {
            "type": [
              "object",
              "null"
            ],
            "additionalProperties": true
          },
          "cwd": {
            "type": [
              "string",
              "null"
            ]
          },
          "developerInstructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "threadId": {
            "type": "string"
          },
          "model": {
            "description": "Configuration overrides for the resumed thread, if any.",
            "type": [
              "string",
              "null"
            ]
          },
          "modelProvider": {
            "type": [
              "string",
              "null"
            ]
          },
          "personality": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/Personality"
              },
              {
                "type": "null"
              }
            ]
          },
          "sandbox": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SandboxMode"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "ThreadForkParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadForkParams",
        "description": "There are two ways to fork a thread: 1. By thread_id: load the thread from disk by thread_id and fork it into a new thread. 2. By path: load the thread from disk by path and fork it into a new thread.\n\nIf using path, the thread_id param will be ignored.\n\nPrefer using thread_id whenever possible.",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "approvalPolicy": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AskForApproval"
              },
              {
                "type": "null"
              }
            ]
          },
          "baseInstructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "config": {
            "type": [
              "object",
              "null"
            ],
            "additionalProperties": true
          },
          "cwd": {
            "type": [
              "string",
              "null"
            ]
          },
          "developerInstructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "model": {
            "description": "Configuration overrides for the forked thread, if any.",
            "type": [
              "string",
              "null"
            ]
          },
          "modelProvider": {
            "type": [
              "string",
              "null"
            ]
          },
          "sandbox": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SandboxMode"
              },
              {
                "type": "null"
              }
            ]
          },
          "threadId": {
            "type": "string"
          }
        }
      },
      "ThreadArchiveParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadArchiveParams",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          }
        }
      },
      "ThreadSetNameParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadSetNameParams",
        "type": "object",
        "required": [
          "name",
          "threadId"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          }
        }
      },
      "ThreadUnarchiveParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadUnarchiveParams",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          }
        }
      },
      "ThreadCompactStartParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadCompactStartParams",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          }
        }
      },
      "AccountLoginCompletedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "AccountLoginCompletedNotification",
        "type": "object",
        "required": [
          "success"
        ],
        "properties": {
          "error": {
            "type": [
              "string",
              "null"
            ]
          },
          "loginId": {
            "type": [
              "string",
              "null"
            ]
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "ThreadRollbackParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadRollbackParams",
        "type": "object",
        "required": [
          "numTurns",
          "threadId"
        ],
        "properties": {
          "numTurns": {
            "description": "The number of turns to drop from the end of the thread. Must be >= 1.\n\nThis only modifies the thread's history and does not revert local file changes that have been made by the agent. Clients are responsible for reverting these changes.",
            "type": "integer",
            "format": "uint32",
            "minimum": 0.0
          },
          "threadId": {
            "type": "string"
          }
        }
      },
      "ThreadSortKey": {
        "type": "string",
        "enum": [
          "created_at",
          "updated_at"
        ]
      },
      "ThreadSourceKind": {
        "type": "string",
        "enum": [
          "cli",
          "vscode",
          "exec",
          "appServer",
          "subAgent",
          "subAgentReview",
          "subAgentCompact",
          "subAgentThreadSpawn",
          "subAgentOther",
          "unknown"
        ]
      },
      "ThreadListParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadListParams",
        "type": "object",
        "properties": {
          "archived": {
            "description": "Optional archived filter; when set to true, only archived threads are returned. If false or null, only non-archived threads are returned.",
            "type": [
              "boolean",
              "null"
            ]
          },
          "cursor": {
            "description": "Opaque pagination cursor returned by a previous call.",
            "type": [
              "string",
              "null"
            ]
          },
          "cwd": {
            "description": "Optional cwd filter; when set, only threads whose session cwd exactly matches this path are returned.",
            "type": [
              "string",
              "null"
            ]
          },
          "limit": {
            "description": "Optional page size; defaults to a reasonable server-side value.",
            "type": [
              "integer",
              "null"
            ],
            "format": "uint32",
            "minimum": 0.0
          },
          "modelProviders": {
            "description": "Optional provider filter; when set, only sessions recorded under these providers are returned. When present but empty, includes all providers.",
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "searchTerm": {
            "description": "Optional substring filter for the extracted thread title.",
            "type": [
              "string",
              "null"
            ]
          },
          "sortKey": {
            "description": "Optional sort key; defaults to created_at.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ThreadSortKey"
              },
              {
                "type": "null"
              }
            ]
          },
          "sourceKinds": {
            "description": "Optional source filter; when set, only sessions from these source kinds are returned. When omitted or empty, defaults to interactive sources.",
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/definitions/v2/ThreadSourceKind"
            }
          }
        }
      },
      "ThreadLoadedListParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadLoadedListParams",
        "type": "object",
        "properties": {
          "cursor": {
            "description": "Opaque pagination cursor returned by a previous call.",
            "type": [
              "string",
              "null"
            ]
          },
          "limit": {
            "description": "Optional page size; defaults to no limit.",
            "type": [
              "integer",
              "null"
            ],
            "format": "uint32",
            "minimum": 0.0
          }
        }
      },
      "ThreadReadParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadReadParams",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "includeTurns": {
            "description": "When true, include turns and their items from rollout history.",
            "default": false,
            "type": "boolean"
          },
          "threadId": {
            "type": "string"
          }
        }
      },
      "SkillsListExtraRootsForCwd": {
        "type": "object",
        "required": [
          "cwd",
          "extraUserRoots"
        ],
        "properties": {
          "cwd": {
            "type": "string"
          },
          "extraUserRoots": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "SkillsListParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "SkillsListParams",
        "type": "object",
        "properties": {
          "cwds": {
            "description": "When empty, defaults to the current session working directory.",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "forceReload": {
            "description": "When true, bypass the skills cache and re-scan skills from disk.",
            "type": "boolean"
          },
          "perCwdExtraUserRoots": {
            "description": "Optional per-cwd extra roots to scan as user-scoped skills.",
            "default": null,
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/definitions/v2/SkillsListExtraRootsForCwd"
            }
          }
        }
      },
      "HazelnutScope": {
        "type": "string",
        "enum": [
          "example",
          "workspace-shared",
          "all-shared",
          "personal"
        ]
      },
      "ProductSurface": {
        "type": "string",
        "enum": [
          "chatgpt",
          "codex",
          "api",
          "atlas"
        ]
      },
      "SkillsRemoteReadParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "SkillsRemoteReadParams",
        "type": "object",
        "properties": {
          "enabled": {
            "default": false,
            "type": "boolean"
          },
          "hazelnutScope": {
            "default": "example",
            "allOf": [
              {
                "$ref": "#/definitions/v2/HazelnutScope"
              }
            ]
          },
          "productSurface": {
            "default": "codex",
            "allOf": [
              {
                "$ref": "#/definitions/v2/ProductSurface"
              }
            ]
          }
        }
      },
      "SkillsRemoteWriteParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "SkillsRemoteWriteParams",
        "type": "object",
        "required": [
          "hazelnutId"
        ],
        "properties": {
          "hazelnutId": {
            "type": "string"
          }
        }
      },
      "AppsListParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "AppsListParams",
        "description": "EXPERIMENTAL - list available apps/connectors.",
        "type": "object",
        "properties": {
          "cursor": {
            "description": "Opaque pagination cursor returned by a previous call.",
            "type": [
              "string",
              "null"
            ]
          },
          "forceRefetch": {
            "description": "When true, bypass app caches and fetch the latest data from sources.",
            "type": "boolean"
          },
          "limit": {
            "description": "Optional page size; defaults to a reasonable server-side value.",
            "type": [
              "integer",
              "null"
            ],
            "format": "uint32",
            "minimum": 0.0
          },
          "threadId": {
            "description": "Optional thread id used to evaluate app feature gating from that thread's config.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SkillsConfigWriteParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "SkillsConfigWriteParams",
        "type": "object",
        "required": [
          "enabled",
          "path"
        ],
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "path": {
            "type": "string"
          }
        }
      },
      "AbsolutePathBuf": {
        "description": "A path that is guaranteed to be absolute and normalized (though it is not guaranteed to be canonicalized or exist on the filesystem).\n\nIMPORTANT: When deserializing an `AbsolutePathBuf`, a base path must be set using [AbsolutePathBufGuard::new]. If no base path is set, the deserialization will fail unless the path being deserialized is already absolute.",
        "type": "string"
      },
      "ByteRange": {
        "type": "object",
        "required": [
          "end",
          "start"
        ],
        "properties": {
          "end": {
            "type": "integer",
            "format": "uint",
            "minimum": 0.0
          },
          "start": {
            "type": "integer",
            "format": "uint",
            "minimum": 0.0
          }
        }
      },
      "CollaborationMode": {
        "description": "Collaboration mode for a Codex session.",
        "type": "object",
        "required": [
          "mode",
          "settings"
        ],
        "properties": {
          "mode": {
            "$ref": "#/definitions/v2/ModeKind"
          },
          "settings": {
            "$ref": "#/definitions/v2/Settings"
          }
        }
      },
      "ModeKind": {
        "description": "Initial collaboration mode to use when the TUI starts.",
        "type": "string",
        "enum": [
          "plan",
          "default"
        ]
      },
      "NetworkAccess": {
        "type": "string",
        "enum": [
          "restricted",
          "enabled"
        ]
      },
      "ReadOnlyAccess": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "includePlatformDefaults": {
                "default": true,
                "type": "boolean"
              },
              "readableRoots": {
                "default": [],
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/AbsolutePathBuf"
                }
              },
              "type": {
                "type": "string",
                "enum": [
                  "restricted"
                ],
                "title": "RestrictedReadOnlyAccessType"
              }
            },
            "title": "RestrictedReadOnlyAccess"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "fullAccess"
                ],
                "title": "FullAccessReadOnlyAccessType"
              }
            },
            "title": "FullAccessReadOnlyAccess"
          }
        ]
      },
      "ReasoningEffort": {
        "description": "See https://platform.openai.com/docs/guides/reasoning?api-mode=responses#get-started-with-reasoning",
        "type": "string",
        "enum": [
          "none",
          "minimal",
          "low",
          "medium",
          "high",
          "xhigh"
        ]
      },
      "ReasoningSummary": {
        "description": "A summary of the reasoning performed by the model. This can be useful for debugging and understanding the model's reasoning process. See https://platform.openai.com/docs/guides/reasoning?api-mode=responses#reasoning-summaries",
        "oneOf": [
          {
            "type": "string",
            "enum": [
              "auto",
              "concise",
              "detailed"
            ]
          },
          {
            "description": "Option to disable reasoning summaries.",
            "type": "string",
            "enum": [
              "none"
            ]
          }
        ]
      },
      "SandboxPolicy": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "dangerFullAccess"
                ],
                "title": "DangerFullAccessSandboxPolicyType"
              }
            },
            "title": "DangerFullAccessSandboxPolicy"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "access": {
                "default": {
                  "type": "fullAccess"
                },
                "allOf": [
                  {
                    "$ref": "#/definitions/v2/ReadOnlyAccess"
                  }
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "readOnly"
                ],
                "title": "ReadOnlySandboxPolicyType"
              }
            },
            "title": "ReadOnlySandboxPolicy"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "networkAccess": {
                "default": "restricted",
                "allOf": [
                  {
                    "$ref": "#/definitions/v2/NetworkAccess"
                  }
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "externalSandbox"
                ],
                "title": "ExternalSandboxSandboxPolicyType"
              }
            },
            "title": "ExternalSandboxSandboxPolicy"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "excludeSlashTmp": {
                "default": false,
                "type": "boolean"
              },
              "excludeTmpdirEnvVar": {
                "default": false,
                "type": "boolean"
              },
              "networkAccess": {
                "default": false,
                "type": "boolean"
              },
              "readOnlyAccess": {
                "default": {
                  "type": "fullAccess"
                },
                "allOf": [
                  {
                    "$ref": "#/definitions/v2/ReadOnlyAccess"
                  }
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "workspaceWrite"
                ],
                "title": "WorkspaceWriteSandboxPolicyType"
              },
              "writableRoots": {
                "default": [],
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/AbsolutePathBuf"
                }
              }
            },
            "title": "WorkspaceWriteSandboxPolicy"
          }
        ]
      },
      "Settings": {
        "description": "Settings for a collaboration mode.",
        "type": "object",
        "required": [
          "model"
        ],
        "properties": {
          "developer_instructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "model": {
            "type": "string"
          },
          "reasoning_effort": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningEffort"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "TextElement": {
        "type": "object",
        "required": [
          "byteRange"
        ],
        "properties": {
          "byteRange": {
            "description": "Byte range in the parent `text` buffer that this element occupies.",
            "allOf": [
              {
                "$ref": "#/definitions/v2/ByteRange"
              }
            ]
          },
          "placeholder": {
            "description": "Optional human-readable placeholder for the element, displayed in the UI.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "UserInput": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "text",
              "type"
            ],
            "properties": {
              "text": {
                "type": "string"
              },
              "text_elements": {
                "description": "UI-defined spans within `text` used to render or persist special elements.",
                "default": [],
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/TextElement"
                }
              },
              "type": {
                "type": "string",
                "enum": [
                  "text"
                ],
                "title": "TextUserInputType"
              }
            },
            "title": "TextUserInput"
          },
          {
            "type": "object",
            "required": [
              "type",
              "url"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "image"
                ],
                "title": "ImageUserInputType"
              },
              "url": {
                "type": "string"
              }
            },
            "title": "ImageUserInput"
          },
          {
            "type": "object",
            "required": [
              "path",
              "type"
            ],
            "properties": {
              "path": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "localImage"
                ],
                "title": "LocalImageUserInputType"
              }
            },
            "title": "LocalImageUserInput"
          },
          {
            "type": "object",
            "required": [
              "name",
              "path",
              "type"
            ],
            "properties": {
              "name": {
                "type": "string"
              },
              "path": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "skill"
                ],
                "title": "SkillUserInputType"
              }
            },
            "title": "SkillUserInput"
          },
          {
            "type": "object",
            "required": [
              "name",
              "path",
              "type"
            ],
            "properties": {
              "name": {
                "type": "string"
              },
              "path": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "mention"
                ],
                "title": "MentionUserInputType"
              }
            },
            "title": "MentionUserInput"
          }
        ]
      },
      "TurnStartParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnStartParams",
        "type": "object",
        "required": [
          "input",
          "threadId"
        ],
        "properties": {
          "approvalPolicy": {
            "description": "Override the approval policy for this turn and subsequent turns.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AskForApproval"
              },
              {
                "type": "null"
              }
            ]
          },
          "threadId": {
            "type": "string"
          },
          "cwd": {
            "description": "Override the working directory for this turn and subsequent turns.",
            "type": [
              "string",
              "null"
            ]
          },
          "effort": {
            "description": "Override the reasoning effort for this turn and subsequent turns.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningEffort"
              },
              {
                "type": "null"
              }
            ]
          },
          "input": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/UserInput"
            }
          },
          "model": {
            "description": "Override the model for this turn and subsequent turns.",
            "type": [
              "string",
              "null"
            ]
          },
          "outputSchema": {
            "description": "Optional JSON Schema used to constrain the final assistant message for this turn."
          },
          "personality": {
            "description": "Override the personality for this turn and subsequent turns.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/Personality"
              },
              {
                "type": "null"
              }
            ]
          },
          "sandboxPolicy": {
            "description": "Override the sandbox policy for this turn and subsequent turns.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SandboxPolicy"
              },
              {
                "type": "null"
              }
            ]
          },
          "summary": {
            "description": "Override the reasoning summary for this turn and subsequent turns.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningSummary"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "TurnSteerParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnSteerParams",
        "type": "object",
        "required": [
          "expectedTurnId",
          "input",
          "threadId"
        ],
        "properties": {
          "expectedTurnId": {
            "description": "Required active turn id precondition. The request fails when it does not match the currently active turn.",
            "type": "string"
          },
          "input": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/UserInput"
            }
          },
          "threadId": {
            "type": "string"
          }
        }
      },
      "TurnInterruptParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnInterruptParams",
        "type": "object",
        "required": [
          "threadId",
          "turnId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "ReviewDelivery": {
        "type": "string",
        "enum": [
          "inline",
          "detached"
        ]
      },
      "ReviewTarget": {
        "oneOf": [
          {
            "description": "Review the working tree: staged, unstaged, and untracked files.",
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "uncommittedChanges"
                ],
                "title": "UncommittedChangesReviewTargetType"
              }
            },
            "title": "UncommittedChangesReviewTarget"
          },
          {
            "description": "Review changes between the current branch and the given base branch.",
            "type": "object",
            "required": [
              "branch",
              "type"
            ],
            "properties": {
              "branch": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "baseBranch"
                ],
                "title": "BaseBranchReviewTargetType"
              }
            },
            "title": "BaseBranchReviewTarget"
          },
          {
            "description": "Review the changes introduced by a specific commit.",
            "type": "object",
            "required": [
              "sha",
              "type"
            ],
            "properties": {
              "sha": {
                "type": "string"
              },
              "title": {
                "description": "Optional human-readable label (e.g., commit subject) for UIs.",
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "commit"
                ],
                "title": "CommitReviewTargetType"
              }
            },
            "title": "CommitReviewTarget"
          },
          {
            "description": "Arbitrary instructions, equivalent to the old free-form prompt.",
            "type": "object",
            "required": [
              "instructions",
              "type"
            ],
            "properties": {
              "instructions": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "custom"
                ],
                "title": "CustomReviewTargetType"
              }
            },
            "title": "CustomReviewTarget"
          }
        ]
      },
      "ReviewStartParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ReviewStartParams",
        "type": "object",
        "required": [
          "target",
          "threadId"
        ],
        "properties": {
          "delivery": {
            "description": "Where to run the review: inline (default) on the current thread or detached on a new thread (returned in `reviewThreadId`).",
            "default": null,
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReviewDelivery"
              },
              {
                "type": "null"
              }
            ]
          },
          "target": {
            "$ref": "#/definitions/v2/ReviewTarget"
          },
          "threadId": {
            "type": "string"
          }
        }
      },
      "ModelListParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ModelListParams",
        "type": "object",
        "properties": {
          "cursor": {
            "description": "Opaque pagination cursor returned by a previous call.",
            "type": [
              "string",
              "null"
            ]
          },
          "includeHidden": {
            "description": "When true, include models that are hidden from the default picker list.",
            "type": [
              "boolean",
              "null"
            ]
          },
          "limit": {
            "description": "Optional page size; defaults to a reasonable server-side value.",
            "type": [
              "integer",
              "null"
            ],
            "format": "uint32",
            "minimum": 0.0
          }
        }
      },
      "ExperimentalFeatureListParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ExperimentalFeatureListParams",
        "type": "object",
        "properties": {
          "cursor": {
            "description": "Opaque pagination cursor returned by a previous call.",
            "type": [
              "string",
              "null"
            ]
          },
          "limit": {
            "description": "Optional page size; defaults to a reasonable server-side value.",
            "type": [
              "integer",
              "null"
            ],
            "format": "uint32",
            "minimum": 0.0
          }
        }
      },
      "WindowsSandboxSetupCompletedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "WindowsSandboxSetupCompletedNotification",
        "type": "object",
        "required": [
          "mode",
          "success"
        ],
        "properties": {
          "error": {
            "type": [
              "string",
              "null"
            ]
          },
          "mode": {
            "$ref": "#/definitions/v2/WindowsSandboxSetupMode"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "WindowsWorldWritableWarningNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "WindowsWorldWritableWarningNotification",
        "type": "object",
        "required": [
          "extraCount",
          "failedScan",
          "samplePaths"
        ],
        "properties": {
          "extraCount": {
            "type": "integer",
            "format": "uint",
            "minimum": 0.0
          },
          "failedScan": {
            "type": "boolean"
          },
          "samplePaths": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "McpServerOauthLoginParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "McpServerOauthLoginParams",
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "scopes": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "timeoutSecs": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          }
        }
      },
      "ListMcpServerStatusParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ListMcpServerStatusParams",
        "type": "object",
        "properties": {
          "cursor": {
            "description": "Opaque pagination cursor returned by a previous call.",
            "type": [
              "string",
              "null"
            ]
          },
          "limit": {
            "description": "Optional page size; defaults to a server-defined value.",
            "type": [
              "integer",
              "null"
            ],
            "format": "uint32",
            "minimum": 0.0
          }
        }
      },
      "WindowsSandboxSetupMode": {
        "type": "string",
        "enum": [
          "elevated",
          "unelevated"
        ]
      },
      "WindowsSandboxSetupStartParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "WindowsSandboxSetupStartParams",
        "type": "object",
        "required": [
          "mode"
        ],
        "properties": {
          "mode": {
            "$ref": "#/definitions/v2/WindowsSandboxSetupMode"
          }
        }
      },
      "LoginAccountParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "LoginAccountParams",
        "oneOf": [
          {
            "type": "object",
            "required": [
              "apiKey",
              "type"
            ],
            "properties": {
              "apiKey": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "apiKey"
                ],
                "title": "ApiKeyv2::LoginAccountParamsType"
              }
            },
            "title": "ApiKeyv2::LoginAccountParams"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "chatgpt"
                ],
                "title": "Chatgptv2::LoginAccountParamsType"
              }
            },
            "title": "Chatgptv2::LoginAccountParams"
          },
          {
            "description": "[UNSTABLE] FOR OPENAI INTERNAL USE ONLY - DO NOT USE. The access token must contain the same scopes that Codex-managed ChatGPT auth tokens have.",
            "type": "object",
            "required": [
              "accessToken",
              "chatgptAccountId",
              "type"
            ],
            "properties": {
              "accessToken": {
                "description": "Access token (JWT) supplied by the client. This token is used for backend API requests and email extraction.",
                "type": "string"
              },
              "chatgptAccountId": {
                "description": "Workspace/account identifier supplied by the client.",
                "type": "string"
              },
              "chatgptPlanType": {
                "description": "Optional plan type supplied by the client.\n\nWhen `null`, Codex attempts to derive the plan type from access-token claims. If unavailable, the plan defaults to `unknown`.",
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "chatgptAuthTokens"
                ],
                "title": "ChatgptAuthTokensv2::LoginAccountParamsType"
              }
            },
            "title": "ChatgptAuthTokensv2::LoginAccountParams"
          }
        ]
      },
      "CancelLoginAccountParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "CancelLoginAccountParams",
        "type": "object",
        "required": [
          "loginId"
        ],
        "properties": {
          "loginId": {
            "type": "string"
          }
        }
      },
      "FeedbackUploadParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "FeedbackUploadParams",
        "type": "object",
        "required": [
          "classification",
          "includeLogs"
        ],
        "properties": {
          "classification": {
            "type": "string"
          },
          "extraLogFiles": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "includeLogs": {
            "type": "boolean"
          },
          "reason": {
            "type": [
              "string",
              "null"
            ]
          },
          "threadId": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "CommandExecParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "CommandExecParams",
        "type": "object",
        "required": [
          "command"
        ],
        "properties": {
          "command": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "cwd": {
            "type": [
              "string",
              "null"
            ]
          },
          "sandboxPolicy": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SandboxPolicy"
              },
              {
                "type": "null"
              }
            ]
          },
          "timeoutMs": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          }
        }
      },
      "ConfigReadParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ConfigReadParams",
        "type": "object",
        "properties": {
          "cwd": {
            "description": "Optional working directory to resolve project config layers. If specified, return the effective config as seen from that directory (i.e., including any project layers between `cwd` and the project/repo root).",
            "type": [
              "string",
              "null"
            ]
          },
          "includeLayers": {
            "default": false,
            "type": "boolean"
          }
        }
      },
      "ExternalAgentConfigDetectParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ExternalAgentConfigDetectParams",
        "type": "object",
        "properties": {
          "cwds": {
            "description": "Zero or more working directories to include for repo-scoped detection.",
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "includeHome": {
            "description": "If true, include detection under the user's home (~/.claude, ~/.codex, etc.).",
            "type": "boolean"
          }
        }
      },
      "ExternalAgentConfigMigrationItem": {
        "type": "object",
        "required": [
          "description",
          "itemType"
        ],
        "properties": {
          "cwd": {
            "description": "Null or empty means home-scoped migration; non-empty means repo-scoped migration.",
            "type": [
              "string",
              "null"
            ]
          },
          "description": {
            "type": "string"
          },
          "itemType": {
            "$ref": "#/definitions/v2/ExternalAgentConfigMigrationItemType"
          }
        }
      },
      "ExternalAgentConfigMigrationItemType": {
        "type": "string",
        "enum": [
          "AGENTS_MD",
          "CONFIG",
          "SKILLS",
          "MCP_SERVER_CONFIG"
        ]
      },
      "ExternalAgentConfigImportParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ExternalAgentConfigImportParams",
        "type": "object",
        "required": [
          "migrationItems"
        ],
        "properties": {
          "migrationItems": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/ExternalAgentConfigMigrationItem"
            }
          }
        }
      },
      "MergeStrategy": {
        "type": "string",
        "enum": [
          "replace",
          "upsert"
        ]
      },
      "ConfigValueWriteParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ConfigValueWriteParams",
        "type": "object",
        "required": [
          "keyPath",
          "mergeStrategy",
          "value"
        ],
        "properties": {
          "expectedVersion": {
            "type": [
              "string",
              "null"
            ]
          },
          "filePath": {
            "description": "Path to the config file to write; defaults to the user's `config.toml` when omitted.",
            "type": [
              "string",
              "null"
            ]
          },
          "keyPath": {
            "type": "string"
          },
          "mergeStrategy": {
            "$ref": "#/definitions/v2/MergeStrategy"
          },
          "value": true
        }
      },
      "ConfigEdit": {
        "type": "object",
        "required": [
          "keyPath",
          "mergeStrategy",
          "value"
        ],
        "properties": {
          "keyPath": {
            "type": "string"
          },
          "mergeStrategy": {
            "$ref": "#/definitions/v2/MergeStrategy"
          },
          "value": true
        }
      },
      "ConfigBatchWriteParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ConfigBatchWriteParams",
        "type": "object",
        "required": [
          "edits"
        ],
        "properties": {
          "edits": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/ConfigEdit"
            }
          },
          "expectedVersion": {
            "type": [
              "string",
              "null"
            ]
          },
          "filePath": {
            "description": "Path to the config file to write; defaults to the user's `config.toml` when omitted.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "GetAccountParams": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "GetAccountParams",
        "type": "object",
        "properties": {
          "refreshToken": {
            "description": "When `true`, requests a proactive token refresh before returning.\n\nIn managed auth mode this triggers the normal refresh-token flow. In external auth mode this flag is ignored. Clients should refresh tokens themselves and call `account/login/start` with `chatgptAuthTokens`.",
            "default": false,
            "type": "boolean"
          }
        }
      },
      "CodexErrorInfo": {
        "description": "This translation layer make sure that we expose codex error code in camel case.\n\nWhen an upstream HTTP status is available (for example, from the Responses API or a provider), it is forwarded in `httpStatusCode` on the relevant `codexErrorInfo` variant.",
        "oneOf": [
          {
            "type": "string",
            "enum": [
              "contextWindowExceeded",
              "usageLimitExceeded",
              "serverOverloaded",
              "internalServerError",
              "unauthorized",
              "badRequest",
              "threadRollbackFailed",
              "sandboxError",
              "other"
            ]
          },
          {
            "type": "object",
            "required": [
              "httpConnectionFailed"
            ],
            "properties": {
              "httpConnectionFailed": {
                "type": "object",
                "properties": {
                  "httpStatusCode": {
                    "type": [
                      "integer",
                      "null"
                    ],
                    "format": "uint16",
                    "minimum": 0.0
                  }
                }
              }
            },
            "additionalProperties": false,
            "title": "HttpConnectionFailedCodexErrorInfo"
          },
          {
            "description": "Failed to connect to the response SSE stream.",
            "type": "object",
            "required": [
              "responseStreamConnectionFailed"
            ],
            "properties": {
              "responseStreamConnectionFailed": {
                "type": "object",
                "properties": {
                  "httpStatusCode": {
                    "type": [
                      "integer",
                      "null"
                    ],
                    "format": "uint16",
                    "minimum": 0.0
                  }
                }
              }
            },
            "additionalProperties": false,
            "title": "ResponseStreamConnectionFailedCodexErrorInfo"
          },
          {
            "description": "The response SSE stream disconnected in the middle of a turn before completion.",
            "type": "object",
            "required": [
              "responseStreamDisconnected"
            ],
            "properties": {
              "responseStreamDisconnected": {
                "type": "object",
                "properties": {
                  "httpStatusCode": {
                    "type": [
                      "integer",
                      "null"
                    ],
                    "format": "uint16",
                    "minimum": 0.0
                  }
                }
              }
            },
            "additionalProperties": false,
            "title": "ResponseStreamDisconnectedCodexErrorInfo"
          },
          {
            "description": "Reached the retry limit for responses.",
            "type": "object",
            "required": [
              "responseTooManyFailedAttempts"
            ],
            "properties": {
              "responseTooManyFailedAttempts": {
                "type": "object",
                "properties": {
                  "httpStatusCode": {
                    "type": [
                      "integer",
                      "null"
                    ],
                    "format": "uint16",
                    "minimum": 0.0
                  }
                }
              }
            },
            "additionalProperties": false,
            "title": "ResponseTooManyFailedAttemptsCodexErrorInfo"
          }
        ]
      },
      "CollabAgentState": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "message": {
            "type": [
              "string",
              "null"
            ]
          },
          "status": {
            "$ref": "#/definitions/v2/CollabAgentStatus"
          }
        }
      },
      "CollabAgentStatus": {
        "type": "string",
        "enum": [
          "pendingInit",
          "running",
          "completed",
          "errored",
          "shutdown",
          "notFound"
        ]
      },
      "CollabAgentTool": {
        "type": "string",
        "enum": [
          "spawnAgent",
          "sendInput",
          "resumeAgent",
          "wait",
          "closeAgent"
        ]
      },
      "CollabAgentToolCallStatus": {
        "type": "string",
        "enum": [
          "inProgress",
          "completed",
          "failed"
        ]
      },
      "CommandAction": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "command",
              "name",
              "path",
              "type"
            ],
            "properties": {
              "command": {
                "type": "string"
              },
              "name": {
                "type": "string"
              },
              "path": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "read"
                ],
                "title": "ReadCommandActionType"
              }
            },
            "title": "ReadCommandAction"
          },
          {
            "type": "object",
            "required": [
              "command",
              "type"
            ],
            "properties": {
              "command": {
                "type": "string"
              },
              "path": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "listFiles"
                ],
                "title": "ListFilesCommandActionType"
              }
            },
            "title": "ListFilesCommandAction"
          },
          {
            "type": "object",
            "required": [
              "command",
              "type"
            ],
            "properties": {
              "command": {
                "type": "string"
              },
              "path": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "query": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "search"
                ],
                "title": "SearchCommandActionType"
              }
            },
            "title": "SearchCommandAction"
          },
          {
            "type": "object",
            "required": [
              "command",
              "type"
            ],
            "properties": {
              "command": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "unknown"
                ],
                "title": "UnknownCommandActionType"
              }
            },
            "title": "UnknownCommandAction"
          }
        ]
      },
      "CommandExecutionStatus": {
        "type": "string",
        "enum": [
          "inProgress",
          "completed",
          "failed",
          "declined"
        ]
      },
      "FileUpdateChange": {
        "type": "object",
        "required": [
          "diff",
          "kind",
          "path"
        ],
        "properties": {
          "diff": {
            "type": "string"
          },
          "kind": {
            "$ref": "#/definitions/v2/PatchChangeKind"
          },
          "path": {
            "type": "string"
          }
        }
      },
      "GitInfo": {
        "type": "object",
        "properties": {
          "branch": {
            "type": [
              "string",
              "null"
            ]
          },
          "originUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "sha": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "McpToolCallError": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "McpToolCallResult": {
        "type": "object",
        "required": [
          "content"
        ],
        "properties": {
          "content": {
            "type": "array",
            "items": true
          },
          "structuredContent": true
        }
      },
      "McpToolCallStatus": {
        "type": "string",
        "enum": [
          "inProgress",
          "completed",
          "failed"
        ]
      },
      "PatchApplyStatus": {
        "type": "string",
        "enum": [
          "inProgress",
          "completed",
          "failed",
          "declined"
        ]
      },
      "PatchChangeKind": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "add"
                ],
                "title": "AddPatchChangeKindType"
              }
            },
            "title": "AddPatchChangeKind"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "delete"
                ],
                "title": "DeletePatchChangeKindType"
              }
            },
            "title": "DeletePatchChangeKind"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "move_path": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "update"
                ],
                "title": "UpdatePatchChangeKindType"
              }
            },
            "title": "UpdatePatchChangeKind"
          }
        ]
      },
      "SessionSource": {
        "oneOf": [
          {
            "type": "string",
            "enum": [
              "cli",
              "vscode",
              "exec",
              "appServer",
              "unknown"
            ]
          },
          {
            "type": "object",
            "required": [
              "subAgent"
            ],
            "properties": {
              "subAgent": {
                "$ref": "#/definitions/v2/SubAgentSource"
              }
            },
            "additionalProperties": false,
            "title": "SubAgentSessionSource"
          }
        ]
      },
      "SubAgentSource": {
        "oneOf": [
          {
            "type": "string",
            "enum": [
              "review",
              "compact",
              "memory_consolidation"
            ]
          },
          {
            "type": "object",
            "required": [
              "thread_spawn"
            ],
            "properties": {
              "thread_spawn": {
                "type": "object",
                "required": [
                  "depth",
                  "parent_thread_id"
                ],
                "properties": {
                  "agent_nickname": {
                    "default": null,
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "agent_role": {
                    "default": null,
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "depth": {
                    "type": "integer",
                    "format": "int32"
                  },
                  "parent_thread_id": {
                    "$ref": "#/definitions/v2/ThreadId"
                  }
                }
              }
            },
            "additionalProperties": false,
            "title": "ThreadSpawnSubAgentSource"
          },
          {
            "type": "object",
            "required": [
              "other"
            ],
            "properties": {
              "other": {
                "type": "string"
              }
            },
            "additionalProperties": false,
            "title": "OtherSubAgentSource"
          }
        ]
      },
      "Thread": {
        "type": "object",
        "required": [
          "cliVersion",
          "createdAt",
          "cwd",
          "id",
          "modelProvider",
          "preview",
          "source",
          "status",
          "turns",
          "updatedAt"
        ],
        "properties": {
          "agentNickname": {
            "description": "Optional random unique nickname assigned to an AgentControl-spawned sub-agent.",
            "type": [
              "string",
              "null"
            ]
          },
          "agentRole": {
            "description": "Optional role (agent_role) assigned to an AgentControl-spawned sub-agent.",
            "type": [
              "string",
              "null"
            ]
          },
          "cliVersion": {
            "description": "Version of the CLI that created the thread.",
            "type": "string"
          },
          "createdAt": {
            "description": "Unix timestamp (in seconds) when the thread was created.",
            "type": "integer",
            "format": "int64"
          },
          "cwd": {
            "description": "Working directory captured for the thread.",
            "type": "string"
          },
          "gitInfo": {
            "description": "Optional Git metadata captured when the thread was created.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/GitInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "id": {
            "type": "string"
          },
          "modelProvider": {
            "description": "Model provider used for this thread (for example, 'openai').",
            "type": "string"
          },
          "name": {
            "description": "Optional user-facing thread title.",
            "type": [
              "string",
              "null"
            ]
          },
          "path": {
            "description": "[UNSTABLE] Path to the thread on disk.",
            "type": [
              "string",
              "null"
            ]
          },
          "preview": {
            "description": "Usually the first user message in the thread, if available.",
            "type": "string"
          },
          "source": {
            "description": "Origin of the thread (CLI, VSCode, codex exec, codex app-server, etc.).",
            "allOf": [
              {
                "$ref": "#/definitions/v2/SessionSource"
              }
            ]
          },
          "status": {
            "description": "Current runtime status for the thread.",
            "allOf": [
              {
                "$ref": "#/definitions/v2/ThreadStatus"
              }
            ]
          },
          "turns": {
            "description": "Only populated on `thread/resume`, `thread/rollback`, `thread/fork`, and `thread/read` (when `includeTurns` is true) responses. For all other responses and notifications returning a Thread, the turns field will be an empty list.",
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/Turn"
            }
          },
          "updatedAt": {
            "description": "Unix timestamp (in seconds) when the thread was last updated.",
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ThreadActiveFlag": {
        "type": "string",
        "enum": [
          "waitingOnApproval",
          "waitingOnUserInput"
        ]
      },
      "ThreadId": {
        "type": "string"
      },
      "ThreadItem": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "content",
              "id",
              "type"
            ],
            "properties": {
              "content": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/UserInput"
                }
              },
              "id": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "userMessage"
                ],
                "title": "UserMessageThreadItemType"
              }
            },
            "title": "UserMessageThreadItem"
          },
          {
            "type": "object",
            "required": [
              "id",
              "text",
              "type"
            ],
            "properties": {
              "id": {
                "type": "string"
              },
              "phase": {
                "default": null,
                "anyOf": [
                  {
                    "$ref": "#/definitions/v2/MessagePhase"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "agentMessage"
                ],
                "title": "AgentMessageThreadItemType"
              }
            },
            "title": "AgentMessageThreadItem"
          },
          {
            "description": "EXPERIMENTAL - proposed plan item content. The completed plan item is authoritative and may not match the concatenation of `PlanDelta` text.",
            "type": "object",
            "required": [
              "id",
              "text",
              "type"
            ],
            "properties": {
              "id": {
                "type": "string"
              },
              "text": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "plan"
                ],
                "title": "PlanThreadItemType"
              }
            },
            "title": "PlanThreadItem"
          },
          {
            "type": "object",
            "required": [
              "id",
              "type"
            ],
            "properties": {
              "content": {
                "default": [],
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "id": {
                "type": "string"
              },
              "summary": {
                "default": [],
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "type": {
                "type": "string",
                "enum": [
                  "reasoning"
                ],
                "title": "ReasoningThreadItemType"
              }
            },
            "title": "ReasoningThreadItem"
          },
          {
            "type": "object",
            "required": [
              "command",
              "commandActions",
              "cwd",
              "id",
              "status",
              "type"
            ],
            "properties": {
              "aggregatedOutput": {
                "description": "The command's output, aggregated from stdout and stderr.",
                "type": [
                  "string",
                  "null"
                ]
              },
              "command": {
                "description": "The command to be executed.",
                "type": "string"
              },
              "commandActions": {
                "description": "A best-effort parsing of the command to understand the action(s) it will perform. This returns a list of CommandAction objects because a single shell command may be composed of many commands piped together.",
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/CommandAction"
                }
              },
              "cwd": {
                "description": "The command's working directory.",
                "type": "string"
              },
              "durationMs": {
                "description": "The duration of the command execution in milliseconds.",
                "type": [
                  "integer",
                  "null"
                ],
                "format": "int64"
              },
              "exitCode": {
                "description": "The command's exit code.",
                "type": [
                  "integer",
                  "null"
                ],
                "format": "int32"
              },
              "id": {
                "type": "string"
              },
              "processId": {
                "description": "Identifier for the underlying PTY process (when available).",
                "type": [
                  "string",
                  "null"
                ]
              },
              "status": {
                "$ref": "#/definitions/v2/CommandExecutionStatus"
              },
              "type": {
                "type": "string",
                "enum": [
                  "commandExecution"
                ],
                "title": "CommandExecutionThreadItemType"
              }
            },
            "title": "CommandExecutionThreadItem"
          },
          {
            "type": "object",
            "required": [
              "changes",
              "id",
              "status",
              "type"
            ],
            "properties": {
              "changes": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/FileUpdateChange"
                }
              },
              "id": {
                "type": "string"
              },
              "status": {
                "$ref": "#/definitions/v2/PatchApplyStatus"
              },
              "type": {
                "type": "string",
                "enum": [
                  "fileChange"
                ],
                "title": "FileChangeThreadItemType"
              }
            },
            "title": "FileChangeThreadItem"
          },
          {
            "type": "object",
            "required": [
              "arguments",
              "id",
              "server",
              "status",
              "tool",
              "type"
            ],
            "properties": {
              "arguments": true,
              "durationMs": {
                "description": "The duration of the MCP tool call in milliseconds.",
                "type": [
                  "integer",
                  "null"
                ],
                "format": "int64"
              },
              "error": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/v2/McpToolCallError"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "id": {
                "type": "string"
              },
              "result": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/v2/McpToolCallResult"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "server": {
                "type": "string"
              },
              "status": {
                "$ref": "#/definitions/v2/McpToolCallStatus"
              },
              "tool": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "mcpToolCall"
                ],
                "title": "McpToolCallThreadItemType"
              }
            },
            "title": "McpToolCallThreadItem"
          },
          {
            "type": "object",
            "required": [
              "agentsStates",
              "id",
              "receiverThreadIds",
              "senderThreadId",
              "status",
              "tool",
              "type"
            ],
            "properties": {
              "agentsStates": {
                "description": "Last known status of the target agents, when available.",
                "type": "object",
                "additionalProperties": {
                  "$ref": "#/definitions/v2/CollabAgentState"
                }
              },
              "id": {
                "description": "Unique identifier for this collab tool call.",
                "type": "string"
              },
              "prompt": {
                "description": "Prompt text sent as part of the collab tool call, when available.",
                "type": [
                  "string",
                  "null"
                ]
              },
              "receiverThreadIds": {
                "description": "Thread ID of the receiving agent, when applicable. In case of spawn operation, this corresponds to the newly spawned agent.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "senderThreadId": {
                "description": "Thread ID of the agent issuing the collab request.",
                "type": "string"
              },
              "status": {
                "description": "Current status of the collab tool call.",
                "allOf": [
                  {
                    "$ref": "#/definitions/v2/CollabAgentToolCallStatus"
                  }
                ]
              },
              "tool": {
                "description": "Name of the collab tool that was invoked.",
                "allOf": [
                  {
                    "$ref": "#/definitions/v2/CollabAgentTool"
                  }
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "collabAgentToolCall"
                ],
                "title": "CollabAgentToolCallThreadItemType"
              }
            },
            "title": "CollabAgentToolCallThreadItem"
          },
          {
            "type": "object",
            "required": [
              "id",
              "query",
              "type"
            ],
            "properties": {
              "action": {
                "anyOf": [
                  {
                    "$ref": "#/definitions/v2/WebSearchAction"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              "id": {
                "type": "string"
              },
              "query": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "webSearch"
                ],
                "title": "WebSearchThreadItemType"
              }
            },
            "title": "WebSearchThreadItem"
          },
          {
            "type": "object",
            "required": [
              "id",
              "path",
              "type"
            ],
            "properties": {
              "id": {
                "type": "string"
              },
              "path": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "imageView"
                ],
                "title": "ImageViewThreadItemType"
              }
            },
            "title": "ImageViewThreadItem"
          },
          {
            "type": "object",
            "required": [
              "id",
              "review",
              "type"
            ],
            "properties": {
              "id": {
                "type": "string"
              },
              "review": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "enteredReviewMode"
                ],
                "title": "EnteredReviewModeThreadItemType"
              }
            },
            "title": "EnteredReviewModeThreadItem"
          },
          {
            "type": "object",
            "required": [
              "id",
              "review",
              "type"
            ],
            "properties": {
              "id": {
                "type": "string"
              },
              "review": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "exitedReviewMode"
                ],
                "title": "ExitedReviewModeThreadItemType"
              }
            },
            "title": "ExitedReviewModeThreadItem"
          },
          {
            "type": "object",
            "required": [
              "id",
              "type"
            ],
            "properties": {
              "id": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "contextCompaction"
                ],
                "title": "ContextCompactionThreadItemType"
              }
            },
            "title": "ContextCompactionThreadItem"
          }
        ]
      },
      "ThreadStatus": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "notLoaded"
                ],
                "title": "NotLoadedThreadStatusType"
              }
            },
            "title": "NotLoadedThreadStatus"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "idle"
                ],
                "title": "IdleThreadStatusType"
              }
            },
            "title": "IdleThreadStatus"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "systemError"
                ],
                "title": "SystemErrorThreadStatusType"
              }
            },
            "title": "SystemErrorThreadStatus"
          },
          {
            "type": "object",
            "required": [
              "activeFlags",
              "type"
            ],
            "properties": {
              "activeFlags": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/v2/ThreadActiveFlag"
                }
              },
              "type": {
                "type": "string",
                "enum": [
                  "active"
                ],
                "title": "ActiveThreadStatusType"
              }
            },
            "title": "ActiveThreadStatus"
          }
        ]
      },
      "Turn": {
        "type": "object",
        "required": [
          "id",
          "items",
          "status"
        ],
        "properties": {
          "error": {
            "description": "Only populated when the Turn's status is failed.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/TurnError"
              },
              {
                "type": "null"
              }
            ]
          },
          "id": {
            "type": "string"
          },
          "items": {
            "description": "Only populated on a `thread/resume` or `thread/fork` response. For all other responses and notifications returning a Turn, the items field will be an empty list.",
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/ThreadItem"
            }
          },
          "status": {
            "$ref": "#/definitions/v2/TurnStatus"
          }
        }
      },
      "TurnError": {
        "type": "object",
        "required": [
          "message"
        ],
        "properties": {
          "additionalDetails": {
            "default": null,
            "type": [
              "string",
              "null"
            ]
          },
          "codexErrorInfo": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/CodexErrorInfo"
              },
              {
                "type": "null"
              }
            ]
          },
          "message": {
            "type": "string"
          }
        }
      },
      "TurnStatus": {
        "type": "string",
        "enum": [
          "completed",
          "interrupted",
          "failed",
          "inProgress"
        ]
      },
      "ThreadStartResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadStartResponse",
        "type": "object",
        "required": [
          "approvalPolicy",
          "cwd",
          "model",
          "modelProvider",
          "sandbox",
          "thread"
        ],
        "properties": {
          "approvalPolicy": {
            "$ref": "#/definitions/v2/AskForApproval"
          },
          "cwd": {
            "type": "string"
          },
          "model": {
            "type": "string"
          },
          "modelProvider": {
            "type": "string"
          },
          "reasoningEffort": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningEffort"
              },
              {
                "type": "null"
              }
            ]
          },
          "sandbox": {
            "$ref": "#/definitions/v2/SandboxPolicy"
          },
          "thread": {
            "$ref": "#/definitions/v2/Thread"
          }
        }
      },
      "ThreadResumeResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadResumeResponse",
        "type": "object",
        "required": [
          "approvalPolicy",
          "cwd",
          "model",
          "modelProvider",
          "sandbox",
          "thread"
        ],
        "properties": {
          "approvalPolicy": {
            "$ref": "#/definitions/v2/AskForApproval"
          },
          "cwd": {
            "type": "string"
          },
          "model": {
            "type": "string"
          },
          "modelProvider": {
            "type": "string"
          },
          "reasoningEffort": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningEffort"
              },
              {
                "type": "null"
              }
            ]
          },
          "sandbox": {
            "$ref": "#/definitions/v2/SandboxPolicy"
          },
          "thread": {
            "$ref": "#/definitions/v2/Thread"
          }
        }
      },
      "ThreadForkResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadForkResponse",
        "type": "object",
        "required": [
          "approvalPolicy",
          "cwd",
          "model",
          "modelProvider",
          "sandbox",
          "thread"
        ],
        "properties": {
          "approvalPolicy": {
            "$ref": "#/definitions/v2/AskForApproval"
          },
          "cwd": {
            "type": "string"
          },
          "model": {
            "type": "string"
          },
          "modelProvider": {
            "type": "string"
          },
          "reasoningEffort": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningEffort"
              },
              {
                "type": "null"
              }
            ]
          },
          "sandbox": {
            "$ref": "#/definitions/v2/SandboxPolicy"
          },
          "thread": {
            "$ref": "#/definitions/v2/Thread"
          }
        }
      },
      "ThreadArchiveResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadArchiveResponse",
        "type": "object"
      },
      "ThreadSetNameResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadSetNameResponse",
        "type": "object"
      },
      "ThreadUnarchiveResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadUnarchiveResponse",
        "type": "object",
        "required": [
          "thread"
        ],
        "properties": {
          "thread": {
            "$ref": "#/definitions/v2/Thread"
          }
        }
      },
      "ThreadCompactStartResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadCompactStartResponse",
        "type": "object"
      },
      "ConfigWarningNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ConfigWarningNotification",
        "type": "object",
        "required": [
          "summary"
        ],
        "properties": {
          "details": {
            "description": "Optional extra guidance or error details.",
            "type": [
              "string",
              "null"
            ]
          },
          "path": {
            "description": "Optional path to the config file that triggered the warning.",
            "type": [
              "string",
              "null"
            ]
          },
          "range": {
            "description": "Optional range for the error location inside the config file.",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/TextRange"
              },
              {
                "type": "null"
              }
            ]
          },
          "summary": {
            "description": "Concise summary of the warning.",
            "type": "string"
          }
        }
      },
      "ThreadRollbackResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadRollbackResponse",
        "type": "object",
        "required": [
          "thread"
        ],
        "properties": {
          "thread": {
            "description": "The updated thread after applying the rollback, with `turns` populated.\n\nThe ThreadItems stored in each Turn are lossy since we explicitly do not persist all agent interactions, such as command executions. This is the same behavior as `thread/resume`.",
            "allOf": [
              {
                "$ref": "#/definitions/v2/Thread"
              }
            ]
          }
        }
      },
      "ThreadListResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadListResponse",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/Thread"
            }
          },
          "nextCursor": {
            "description": "Opaque cursor to pass to the next call to continue after the last item. if None, there are no more items to return.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ThreadLoadedListResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadLoadedListResponse",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "description": "Thread ids for sessions currently loaded in memory.",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "nextCursor": {
            "description": "Opaque cursor to pass to the next call to continue after the last item. if None, there are no more items to return.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ThreadReadResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadReadResponse",
        "type": "object",
        "required": [
          "thread"
        ],
        "properties": {
          "thread": {
            "$ref": "#/definitions/v2/Thread"
          }
        }
      },
      "SkillDependencies": {
        "type": "object",
        "required": [
          "tools"
        ],
        "properties": {
          "tools": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/SkillToolDependency"
            }
          }
        }
      },
      "SkillErrorInfo": {
        "type": "object",
        "required": [
          "message",
          "path"
        ],
        "properties": {
          "message": {
            "type": "string"
          },
          "path": {
            "type": "string"
          }
        }
      },
      "SkillInterface": {
        "type": "object",
        "properties": {
          "brandColor": {
            "type": [
              "string",
              "null"
            ]
          },
          "defaultPrompt": {
            "type": [
              "string",
              "null"
            ]
          },
          "displayName": {
            "type": [
              "string",
              "null"
            ]
          },
          "iconLarge": {
            "type": [
              "string",
              "null"
            ]
          },
          "iconSmall": {
            "type": [
              "string",
              "null"
            ]
          },
          "shortDescription": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SkillMetadata": {
        "type": "object",
        "required": [
          "description",
          "enabled",
          "name",
          "path",
          "scope"
        ],
        "properties": {
          "dependencies": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SkillDependencies"
              },
              {
                "type": "null"
              }
            ]
          },
          "description": {
            "type": "string"
          },
          "enabled": {
            "type": "boolean"
          },
          "interface": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SkillInterface"
              },
              {
                "type": "null"
              }
            ]
          },
          "name": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "scope": {
            "$ref": "#/definitions/v2/SkillScope"
          },
          "shortDescription": {
            "description": "Legacy short_description from SKILL.md. Prefer SKILL.json interface.short_description.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SkillScope": {
        "type": "string",
        "enum": [
          "user",
          "repo",
          "system",
          "admin"
        ]
      },
      "SkillToolDependency": {
        "type": "object",
        "required": [
          "type",
          "value"
        ],
        "properties": {
          "command": {
            "type": [
              "string",
              "null"
            ]
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "transport": {
            "type": [
              "string",
              "null"
            ]
          },
          "type": {
            "type": "string"
          },
          "url": {
            "type": [
              "string",
              "null"
            ]
          },
          "value": {
            "type": "string"
          }
        }
      },
      "SkillsListEntry": {
        "type": "object",
        "required": [
          "cwd",
          "errors",
          "skills"
        ],
        "properties": {
          "cwd": {
            "type": "string"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/SkillErrorInfo"
            }
          },
          "skills": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/SkillMetadata"
            }
          }
        }
      },
      "SkillsListResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "SkillsListResponse",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/SkillsListEntry"
            }
          }
        }
      },
      "RemoteSkillSummary": {
        "type": "object",
        "required": [
          "description",
          "id",
          "name"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "SkillsRemoteReadResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "SkillsRemoteReadResponse",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/RemoteSkillSummary"
            }
          }
        }
      },
      "SkillsRemoteWriteResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "SkillsRemoteWriteResponse",
        "type": "object",
        "required": [
          "id",
          "path"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "path": {
            "type": "string"
          }
        }
      },
      "AppBranding": {
        "description": "EXPERIMENTAL - app metadata returned by app-list APIs.",
        "type": "object",
        "required": [
          "isDiscoverableApp"
        ],
        "properties": {
          "category": {
            "type": [
              "string",
              "null"
            ]
          },
          "developer": {
            "type": [
              "string",
              "null"
            ]
          },
          "isDiscoverableApp": {
            "type": "boolean"
          },
          "privacyPolicy": {
            "type": [
              "string",
              "null"
            ]
          },
          "termsOfService": {
            "type": [
              "string",
              "null"
            ]
          },
          "website": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "AppInfo": {
        "description": "EXPERIMENTAL - app metadata returned by app-list APIs.",
        "type": "object",
        "required": [
          "id",
          "name"
        ],
        "properties": {
          "appMetadata": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AppMetadata"
              },
              {
                "type": "null"
              }
            ]
          },
          "branding": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AppBranding"
              },
              {
                "type": "null"
              }
            ]
          },
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "distributionChannel": {
            "type": [
              "string",
              "null"
            ]
          },
          "id": {
            "type": "string"
          },
          "installUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "isAccessible": {
            "default": false,
            "type": "boolean"
          },
          "isEnabled": {
            "description": "Whether this app is enabled in config.toml. Example: ```toml [apps.bad_app] enabled = false ```",
            "default": true,
            "type": "boolean"
          },
          "labels": {
            "type": [
              "object",
              "null"
            ],
            "additionalProperties": {
              "type": "string"
            }
          },
          "logoUrl": {
            "type": [
              "string",
              "null"
            ]
          },
          "logoUrlDark": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "type": "string"
          }
        }
      },
      "AppMetadata": {
        "type": "object",
        "properties": {
          "categories": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "developer": {
            "type": [
              "string",
              "null"
            ]
          },
          "firstPartyRequiresInstall": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "firstPartyType": {
            "type": [
              "string",
              "null"
            ]
          },
          "review": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AppReview"
              },
              {
                "type": "null"
              }
            ]
          },
          "screenshots": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/definitions/v2/AppScreenshot"
            }
          },
          "seoDescription": {
            "type": [
              "string",
              "null"
            ]
          },
          "showInComposerWhenUnlinked": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "subCategories": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "version": {
            "type": [
              "string",
              "null"
            ]
          },
          "versionId": {
            "type": [
              "string",
              "null"
            ]
          },
          "versionNotes": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "AppReview": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "type": "string"
          }
        }
      },
      "AppScreenshot": {
        "type": "object",
        "required": [
          "userPrompt"
        ],
        "properties": {
          "fileId": {
            "type": [
              "string",
              "null"
            ]
          },
          "url": {
            "type": [
              "string",
              "null"
            ]
          },
          "userPrompt": {
            "type": "string"
          }
        }
      },
      "AppsListResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "AppsListResponse",
        "description": "EXPERIMENTAL - app list response.",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/AppInfo"
            }
          },
          "nextCursor": {
            "description": "Opaque cursor to pass to the next call to continue after the last item. If None, there are no more items to return.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "SkillsConfigWriteResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "SkillsConfigWriteResponse",
        "type": "object",
        "required": [
          "effectiveEnabled"
        ],
        "properties": {
          "effectiveEnabled": {
            "type": "boolean"
          }
        }
      },
      "TurnStartResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnStartResponse",
        "type": "object",
        "required": [
          "turn"
        ],
        "properties": {
          "turn": {
            "$ref": "#/definitions/v2/Turn"
          }
        }
      },
      "TurnSteerResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnSteerResponse",
        "type": "object",
        "required": [
          "turnId"
        ],
        "properties": {
          "turnId": {
            "type": "string"
          }
        }
      },
      "TurnInterruptResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnInterruptResponse",
        "type": "object"
      },
      "ReviewStartResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ReviewStartResponse",
        "type": "object",
        "required": [
          "reviewThreadId",
          "turn"
        ],
        "properties": {
          "reviewThreadId": {
            "description": "Identifies the thread where the review runs.\n\nFor inline reviews, this is the original thread id. For detached reviews, this is the id of the new review thread.",
            "type": "string"
          },
          "turn": {
            "$ref": "#/definitions/v2/Turn"
          }
        }
      },
      "InputModality": {
        "description": "Canonical user-input modality tags advertised by a model.",
        "oneOf": [
          {
            "description": "Plain text turns and tool payloads.",
            "type": "string",
            "enum": [
              "text"
            ]
          },
          {
            "description": "Image attachments included in user turns.",
            "type": "string",
            "enum": [
              "image"
            ]
          }
        ]
      },
      "Model": {
        "type": "object",
        "required": [
          "defaultReasoningEffort",
          "description",
          "displayName",
          "hidden",
          "id",
          "isDefault",
          "model",
          "supportedReasoningEfforts"
        ],
        "properties": {
          "defaultReasoningEffort": {
            "$ref": "#/definitions/v2/ReasoningEffort"
          },
          "description": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "hidden": {
            "type": "boolean"
          },
          "id": {
            "type": "string"
          },
          "inputModalities": {
            "default": [
              "text",
              "image"
            ],
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/InputModality"
            }
          },
          "isDefault": {
            "type": "boolean"
          },
          "model": {
            "type": "string"
          },
          "supportedReasoningEfforts": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/ReasoningEffortOption"
            }
          },
          "supportsPersonality": {
            "default": false,
            "type": "boolean"
          },
          "upgrade": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ReasoningEffortOption": {
        "type": "object",
        "required": [
          "description",
          "reasoningEffort"
        ],
        "properties": {
          "description": {
            "type": "string"
          },
          "reasoningEffort": {
            "$ref": "#/definitions/v2/ReasoningEffort"
          }
        }
      },
      "ModelListResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ModelListResponse",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/Model"
            }
          },
          "nextCursor": {
            "description": "Opaque cursor to pass to the next call to continue after the last item. If None, there are no more items to return.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ExperimentalFeature": {
        "type": "object",
        "required": [
          "defaultEnabled",
          "enabled",
          "name",
          "stage"
        ],
        "properties": {
          "announcement": {
            "description": "Announcement copy shown to users when the feature is introduced. Null when this feature is not in beta.",
            "type": [
              "string",
              "null"
            ]
          },
          "defaultEnabled": {
            "description": "Whether this feature is enabled by default.",
            "type": "boolean"
          },
          "description": {
            "description": "Short summary describing what the feature does. Null when this feature is not in beta.",
            "type": [
              "string",
              "null"
            ]
          },
          "displayName": {
            "description": "User-facing display name shown in the experimental features UI. Null when this feature is not in beta.",
            "type": [
              "string",
              "null"
            ]
          },
          "enabled": {
            "description": "Whether this feature is currently enabled in the loaded config.",
            "type": "boolean"
          },
          "name": {
            "description": "Stable key used in config.toml and CLI flag toggles.",
            "type": "string"
          },
          "stage": {
            "description": "Lifecycle stage of this feature flag.",
            "allOf": [
              {
                "$ref": "#/definitions/v2/ExperimentalFeatureStage"
              }
            ]
          }
        }
      },
      "ExperimentalFeatureStage": {
        "oneOf": [
          {
            "description": "Feature is available for user testing and feedback.",
            "type": "string",
            "enum": [
              "beta"
            ]
          },
          {
            "description": "Feature is still being built and not ready for broad use.",
            "type": "string",
            "enum": [
              "underDevelopment"
            ]
          },
          {
            "description": "Feature is production-ready.",
            "type": "string",
            "enum": [
              "stable"
            ]
          },
          {
            "description": "Feature is deprecated and should be avoided.",
            "type": "string",
            "enum": [
              "deprecated"
            ]
          },
          {
            "description": "Feature flag is retained only for backwards compatibility.",
            "type": "string",
            "enum": [
              "removed"
            ]
          }
        ]
      },
      "ExperimentalFeatureListResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ExperimentalFeatureListResponse",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/ExperimentalFeature"
            }
          },
          "nextCursor": {
            "description": "Opaque cursor to pass to the next call to continue after the last item. If None, there are no more items to return.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "CollaborationModeMask": {
        "description": "A mask for collaboration mode settings, allowing partial updates. All fields except `name` are optional, enabling selective updates.",
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "developer_instructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "mode": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ModeKind"
              },
              {
                "type": "null"
              }
            ]
          },
          "model": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "type": "string"
          },
          "reasoning_effort": {
            "anyOf": [
              {
                "anyOf": [
                  {
                    "$ref": "#/definitions/v2/ReasoningEffort"
                  },
                  {
                    "type": "null"
                  }
                ]
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "TextRange": {
        "type": "object",
        "required": [
          "end",
          "start"
        ],
        "properties": {
          "end": {
            "$ref": "#/definitions/v2/TextPosition"
          },
          "start": {
            "$ref": "#/definitions/v2/TextPosition"
          }
        }
      },
      "TextPosition": {
        "type": "object",
        "required": [
          "column",
          "line"
        ],
        "properties": {
          "column": {
            "description": "1-based column number (in Unicode scalar values).",
            "type": "integer",
            "format": "uint",
            "minimum": 0.0
          },
          "line": {
            "description": "1-based line number.",
            "type": "integer",
            "format": "uint",
            "minimum": 0.0
          }
        }
      },
      "McpServerOauthLoginResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "McpServerOauthLoginResponse",
        "type": "object",
        "required": [
          "authorizationUrl"
        ],
        "properties": {
          "authorizationUrl": {
            "type": "string"
          }
        }
      },
      "McpServerRefreshResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "McpServerRefreshResponse",
        "type": "object"
      },
      "McpAuthStatus": {
        "type": "string",
        "enum": [
          "unsupported",
          "notLoggedIn",
          "bearerToken",
          "oAuth"
        ]
      },
      "McpServerStatus": {
        "type": "object",
        "required": [
          "authStatus",
          "name",
          "resourceTemplates",
          "resources",
          "tools"
        ],
        "properties": {
          "authStatus": {
            "$ref": "#/definitions/v2/McpAuthStatus"
          },
          "name": {
            "type": "string"
          },
          "resourceTemplates": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/ResourceTemplate"
            }
          },
          "resources": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/Resource"
            }
          },
          "tools": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/definitions/v2/Tool"
            }
          }
        }
      },
      "Resource": {
        "description": "A known resource that the server is capable of reading.",
        "type": "object",
        "required": [
          "name",
          "uri"
        ],
        "properties": {
          "_meta": true,
          "annotations": true,
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "icons": {
            "type": [
              "array",
              "null"
            ],
            "items": true
          },
          "mimeType": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "type": "string"
          },
          "size": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "title": {
            "type": [
              "string",
              "null"
            ]
          },
          "uri": {
            "type": "string"
          }
        }
      },
      "ResourceTemplate": {
        "description": "A template description for resources available on the server.",
        "type": "object",
        "required": [
          "name",
          "uriTemplate"
        ],
        "properties": {
          "annotations": true,
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "mimeType": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "type": "string"
          },
          "title": {
            "type": [
              "string",
              "null"
            ]
          },
          "uriTemplate": {
            "type": "string"
          }
        }
      },
      "Tool": {
        "description": "Definition for a tool the client can call.",
        "type": "object",
        "required": [
          "inputSchema",
          "name"
        ],
        "properties": {
          "_meta": true,
          "annotations": true,
          "description": {
            "type": [
              "string",
              "null"
            ]
          },
          "icons": {
            "type": [
              "array",
              "null"
            ],
            "items": true
          },
          "inputSchema": true,
          "name": {
            "type": "string"
          },
          "outputSchema": true,
          "title": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ListMcpServerStatusResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ListMcpServerStatusResponse",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/McpServerStatus"
            }
          },
          "nextCursor": {
            "description": "Opaque cursor to pass to the next call to continue after the last item. If None, there are no more items to return.",
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "WindowsSandboxSetupStartResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "WindowsSandboxSetupStartResponse",
        "type": "object",
        "required": [
          "started"
        ],
        "properties": {
          "started": {
            "type": "boolean"
          }
        }
      },
      "LoginAccountResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "LoginAccountResponse",
        "oneOf": [
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "apiKey"
                ],
                "title": "ApiKeyv2::LoginAccountResponseType"
              }
            },
            "title": "ApiKeyv2::LoginAccountResponse"
          },
          {
            "type": "object",
            "required": [
              "authUrl",
              "loginId",
              "type"
            ],
            "properties": {
              "authUrl": {
                "description": "URL the client should open in a browser to initiate the OAuth flow.",
                "type": "string"
              },
              "loginId": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "chatgpt"
                ],
                "title": "Chatgptv2::LoginAccountResponseType"
              }
            },
            "title": "Chatgptv2::LoginAccountResponse"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "chatgptAuthTokens"
                ],
                "title": "ChatgptAuthTokensv2::LoginAccountResponseType"
              }
            },
            "title": "ChatgptAuthTokensv2::LoginAccountResponse"
          }
        ]
      },
      "CancelLoginAccountStatus": {
        "type": "string",
        "enum": [
          "canceled",
          "notFound"
        ]
      },
      "CancelLoginAccountResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "CancelLoginAccountResponse",
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "$ref": "#/definitions/v2/CancelLoginAccountStatus"
          }
        }
      },
      "LogoutAccountResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "LogoutAccountResponse",
        "type": "object"
      },
      "CreditsSnapshot": {
        "type": "object",
        "required": [
          "hasCredits",
          "unlimited"
        ],
        "properties": {
          "balance": {
            "type": [
              "string",
              "null"
            ]
          },
          "hasCredits": {
            "type": "boolean"
          },
          "unlimited": {
            "type": "boolean"
          }
        }
      },
      "PlanType": {
        "type": "string",
        "enum": [
          "free",
          "go",
          "plus",
          "pro",
          "team",
          "business",
          "enterprise",
          "edu",
          "unknown"
        ]
      },
      "RateLimitSnapshot": {
        "type": "object",
        "properties": {
          "credits": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/CreditsSnapshot"
              },
              {
                "type": "null"
              }
            ]
          },
          "limitId": {
            "type": [
              "string",
              "null"
            ]
          },
          "limitName": {
            "type": [
              "string",
              "null"
            ]
          },
          "planType": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/PlanType"
              },
              {
                "type": "null"
              }
            ]
          },
          "primary": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/RateLimitWindow"
              },
              {
                "type": "null"
              }
            ]
          },
          "secondary": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/RateLimitWindow"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "RateLimitWindow": {
        "type": "object",
        "required": [
          "usedPercent"
        ],
        "properties": {
          "resetsAt": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "usedPercent": {
            "type": "integer",
            "format": "int32"
          },
          "windowDurationMins": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          }
        }
      },
      "GetAccountRateLimitsResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "GetAccountRateLimitsResponse",
        "type": "object",
        "required": [
          "rateLimits"
        ],
        "properties": {
          "rateLimits": {
            "description": "Backward-compatible single-bucket view; mirrors the historical payload.",
            "allOf": [
              {
                "$ref": "#/definitions/v2/RateLimitSnapshot"
              }
            ]
          },
          "rateLimitsByLimitId": {
            "description": "Multi-bucket view keyed by metered `limit_id` (for example, `codex`).",
            "type": [
              "object",
              "null"
            ],
            "additionalProperties": {
              "$ref": "#/definitions/v2/RateLimitSnapshot"
            }
          }
        }
      },
      "FeedbackUploadResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "FeedbackUploadResponse",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          }
        }
      },
      "CommandExecResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "CommandExecResponse",
        "type": "object",
        "required": [
          "exitCode",
          "stderr",
          "stdout"
        ],
        "properties": {
          "exitCode": {
            "type": "integer",
            "format": "int32"
          },
          "stderr": {
            "type": "string"
          },
          "stdout": {
            "type": "string"
          }
        }
      },
      "AnalyticsConfig": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": [
              "boolean",
              "null"
            ]
          }
        },
        "additionalProperties": true
      },
      "AppConfig": {
        "type": "object",
        "properties": {
          "default_tools_approval_mode": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AppToolApproval"
              },
              {
                "type": "null"
              }
            ]
          },
          "default_tools_enabled": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "destructive_enabled": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "enabled": {
            "default": true,
            "type": "boolean"
          },
          "open_world_enabled": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "tools": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AppToolsConfig"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "AppToolApproval": {
        "type": "string",
        "enum": [
          "auto",
          "prompt",
          "approve"
        ]
      },
      "AppToolConfig": {
        "type": "object",
        "properties": {
          "approval_mode": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AppToolApproval"
              },
              {
                "type": "null"
              }
            ]
          },
          "enabled": {
            "type": [
              "boolean",
              "null"
            ]
          }
        }
      },
      "AppToolsConfig": {
        "type": "object"
      },
      "AppsConfig": {
        "type": "object",
        "properties": {
          "_default": {
            "default": null,
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AppsDefaultConfig"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "AppsDefaultConfig": {
        "type": "object",
        "properties": {
          "destructive_enabled": {
            "default": true,
            "type": "boolean"
          },
          "enabled": {
            "default": true,
            "type": "boolean"
          },
          "open_world_enabled": {
            "default": true,
            "type": "boolean"
          }
        }
      },
      "Config": {
        "type": "object",
        "properties": {
          "analytics": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AnalyticsConfig"
              },
              {
                "type": "null"
              }
            ]
          },
          "approval_policy": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AskForApproval"
              },
              {
                "type": "null"
              }
            ]
          },
          "web_search": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/WebSearchMode"
              },
              {
                "type": "null"
              }
            ]
          },
          "compact_prompt": {
            "type": [
              "string",
              "null"
            ]
          },
          "developer_instructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "forced_chatgpt_workspace_id": {
            "type": [
              "string",
              "null"
            ]
          },
          "forced_login_method": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ForcedLoginMethod"
              },
              {
                "type": "null"
              }
            ]
          },
          "instructions": {
            "type": [
              "string",
              "null"
            ]
          },
          "model": {
            "type": [
              "string",
              "null"
            ]
          },
          "model_auto_compact_token_limit": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "model_context_window": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "model_provider": {
            "type": [
              "string",
              "null"
            ]
          },
          "model_reasoning_effort": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningEffort"
              },
              {
                "type": "null"
              }
            ]
          },
          "model_reasoning_summary": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningSummary"
              },
              {
                "type": "null"
              }
            ]
          },
          "model_verbosity": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/Verbosity"
              },
              {
                "type": "null"
              }
            ]
          },
          "profile": {
            "type": [
              "string",
              "null"
            ]
          },
          "profiles": {
            "default": {},
            "type": "object",
            "additionalProperties": {
              "$ref": "#/definitions/v2/ProfileV2"
            }
          },
          "review_model": {
            "type": [
              "string",
              "null"
            ]
          },
          "sandbox_mode": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SandboxMode"
              },
              {
                "type": "null"
              }
            ]
          },
          "sandbox_workspace_write": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/SandboxWorkspaceWrite"
              },
              {
                "type": "null"
              }
            ]
          },
          "tools": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ToolsV2"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "additionalProperties": true
      },
      "ConfigLayer": {
        "type": "object",
        "required": [
          "config",
          "name",
          "version"
        ],
        "properties": {
          "config": true,
          "disabledReason": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "$ref": "#/definitions/v2/ConfigLayerSource"
          },
          "version": {
            "type": "string"
          }
        }
      },
      "ConfigLayerMetadata": {
        "type": "object",
        "required": [
          "name",
          "version"
        ],
        "properties": {
          "name": {
            "$ref": "#/definitions/v2/ConfigLayerSource"
          },
          "version": {
            "type": "string"
          }
        }
      },
      "ConfigLayerSource": {
        "oneOf": [
          {
            "description": "Managed preferences layer delivered by MDM (macOS only).",
            "type": "object",
            "required": [
              "domain",
              "key",
              "type"
            ],
            "properties": {
              "domain": {
                "type": "string"
              },
              "key": {
                "type": "string"
              },
              "type": {
                "type": "string",
                "enum": [
                  "mdm"
                ],
                "title": "MdmConfigLayerSourceType"
              }
            },
            "title": "MdmConfigLayerSource"
          },
          {
            "description": "Managed config layer from a file (usually `managed_config.toml`).",
            "type": "object",
            "required": [
              "file",
              "type"
            ],
            "properties": {
              "file": {
                "description": "This is the path to the system config.toml file, though it is not guaranteed to exist.",
                "allOf": [
                  {
                    "$ref": "#/definitions/v2/AbsolutePathBuf"
                  }
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "system"
                ],
                "title": "SystemConfigLayerSourceType"
              }
            },
            "title": "SystemConfigLayerSource"
          },
          {
            "description": "User config layer from $CODEX_HOME/config.toml. This layer is special in that it is expected to be: - writable by the user - generally outside the workspace directory",
            "type": "object",
            "required": [
              "file",
              "type"
            ],
            "properties": {
              "file": {
                "description": "This is the path to the user's config.toml file, though it is not guaranteed to exist.",
                "allOf": [
                  {
                    "$ref": "#/definitions/v2/AbsolutePathBuf"
                  }
                ]
              },
              "type": {
                "type": "string",
                "enum": [
                  "user"
                ],
                "title": "UserConfigLayerSourceType"
              }
            },
            "title": "UserConfigLayerSource"
          },
          {
            "description": "Path to a .codex/ folder within a project. There could be multiple of these between `cwd` and the project/repo root.",
            "type": "object",
            "required": [
              "dotCodexFolder",
              "type"
            ],
            "properties": {
              "dotCodexFolder": {
                "$ref": "#/definitions/v2/AbsolutePathBuf"
              },
              "type": {
                "type": "string",
                "enum": [
                  "project"
                ],
                "title": "ProjectConfigLayerSourceType"
              }
            },
            "title": "ProjectConfigLayerSource"
          },
          {
            "description": "Session-layer overrides supplied via `-c`/`--config`.",
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "sessionFlags"
                ],
                "title": "SessionFlagsConfigLayerSourceType"
              }
            },
            "title": "SessionFlagsConfigLayerSource"
          },
          {
            "description": "`managed_config.toml` was designed to be a config that was loaded as the last layer on top of everything else. This scheme did not quite work out as intended, but we keep this variant as a \"best effort\" while we phase out `managed_config.toml` in favor of `requirements.toml`.",
            "type": "object",
            "required": [
              "file",
              "type"
            ],
            "properties": {
              "file": {
                "$ref": "#/definitions/v2/AbsolutePathBuf"
              },
              "type": {
                "type": "string",
                "enum": [
                  "legacyManagedConfigTomlFromFile"
                ],
                "title": "LegacyManagedConfigTomlFromFileConfigLayerSourceType"
              }
            },
            "title": "LegacyManagedConfigTomlFromFileConfigLayerSource"
          },
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "legacyManagedConfigTomlFromMdm"
                ],
                "title": "LegacyManagedConfigTomlFromMdmConfigLayerSourceType"
              }
            },
            "title": "LegacyManagedConfigTomlFromMdmConfigLayerSource"
          }
        ]
      },
      "ForcedLoginMethod": {
        "type": "string",
        "enum": [
          "chatgpt",
          "api"
        ]
      },
      "ProfileV2": {
        "type": "object",
        "properties": {
          "approval_policy": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AskForApproval"
              },
              {
                "type": "null"
              }
            ]
          },
          "chatgpt_base_url": {
            "type": [
              "string",
              "null"
            ]
          },
          "model": {
            "type": [
              "string",
              "null"
            ]
          },
          "model_provider": {
            "type": [
              "string",
              "null"
            ]
          },
          "model_reasoning_effort": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningEffort"
              },
              {
                "type": "null"
              }
            ]
          },
          "model_reasoning_summary": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ReasoningSummary"
              },
              {
                "type": "null"
              }
            ]
          },
          "model_verbosity": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/Verbosity"
              },
              {
                "type": "null"
              }
            ]
          },
          "web_search": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/WebSearchMode"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "additionalProperties": true
      },
      "SandboxWorkspaceWrite": {
        "type": "object",
        "properties": {
          "exclude_slash_tmp": {
            "default": false,
            "type": "boolean"
          },
          "exclude_tmpdir_env_var": {
            "default": false,
            "type": "boolean"
          },
          "network_access": {
            "default": false,
            "type": "boolean"
          },
          "writable_roots": {
            "default": [],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "ToolsV2": {
        "type": "object",
        "properties": {
          "view_image": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "web_search": {
            "type": [
              "boolean",
              "null"
            ]
          }
        }
      },
      "Verbosity": {
        "description": "Controls output length/detail on GPT-5 models via the Responses API. Serialized with lowercase values to match the OpenAI API.",
        "type": "string",
        "enum": [
          "low",
          "medium",
          "high"
        ]
      },
      "WebSearchMode": {
        "type": "string",
        "enum": [
          "disabled",
          "cached",
          "live"
        ]
      },
      "ConfigReadResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ConfigReadResponse",
        "type": "object",
        "required": [
          "config",
          "origins"
        ],
        "properties": {
          "config": {
            "$ref": "#/definitions/v2/Config"
          },
          "layers": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/definitions/v2/ConfigLayer"
            }
          },
          "origins": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/definitions/v2/ConfigLayerMetadata"
            }
          }
        }
      },
      "ExternalAgentConfigDetectResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ExternalAgentConfigDetectResponse",
        "type": "object",
        "required": [
          "items"
        ],
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/ExternalAgentConfigMigrationItem"
            }
          }
        }
      },
      "ExternalAgentConfigImportResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ExternalAgentConfigImportResponse",
        "type": "object"
      },
      "OverriddenMetadata": {
        "type": "object",
        "required": [
          "effectiveValue",
          "message",
          "overridingLayer"
        ],
        "properties": {
          "effectiveValue": true,
          "message": {
            "type": "string"
          },
          "overridingLayer": {
            "$ref": "#/definitions/v2/ConfigLayerMetadata"
          }
        }
      },
      "WriteStatus": {
        "type": "string",
        "enum": [
          "ok",
          "okOverridden"
        ]
      },
      "ConfigWriteResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ConfigWriteResponse",
        "type": "object",
        "required": [
          "filePath",
          "status",
          "version"
        ],
        "properties": {
          "filePath": {
            "description": "Canonical path to the config file that was written.",
            "allOf": [
              {
                "$ref": "#/definitions/v2/AbsolutePathBuf"
              }
            ]
          },
          "overriddenMetadata": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/OverriddenMetadata"
              },
              {
                "type": "null"
              }
            ]
          },
          "status": {
            "$ref": "#/definitions/v2/WriteStatus"
          },
          "version": {
            "type": "string"
          }
        }
      },
      "ConfigRequirements": {
        "type": "object",
        "properties": {
          "allowedApprovalPolicies": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/definitions/v2/AskForApproval"
            }
          },
          "allowedSandboxModes": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/definitions/v2/SandboxMode"
            }
          },
          "allowedWebSearchModes": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "$ref": "#/definitions/v2/WebSearchMode"
            }
          },
          "enforceResidency": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ResidencyRequirement"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "NetworkRequirements": {
        "type": "object",
        "properties": {
          "allowLocalBinding": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "allowUnixSockets": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "allowUpstreamProxy": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "allowedDomains": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "dangerouslyAllowAllUnixSockets": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "dangerouslyAllowNonLoopbackAdmin": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "dangerouslyAllowNonLoopbackProxy": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "deniedDomains": {
            "type": [
              "array",
              "null"
            ],
            "items": {
              "type": "string"
            }
          },
          "enabled": {
            "type": [
              "boolean",
              "null"
            ]
          },
          "httpPort": {
            "type": [
              "integer",
              "null"
            ],
            "format": "uint16",
            "minimum": 0.0
          },
          "socksPort": {
            "type": [
              "integer",
              "null"
            ],
            "format": "uint16",
            "minimum": 0.0
          }
        }
      },
      "ResidencyRequirement": {
        "type": "string",
        "enum": [
          "us"
        ]
      },
      "ConfigRequirementsReadResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ConfigRequirementsReadResponse",
        "type": "object",
        "properties": {
          "requirements": {
            "description": "Null if no requirements are configured (e.g. no requirements.toml/MDM entries).",
            "anyOf": [
              {
                "$ref": "#/definitions/v2/ConfigRequirements"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "Account": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "type"
            ],
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "apiKey"
                ],
                "title": "ApiKeyAccountType"
              }
            },
            "title": "ApiKeyAccount"
          },
          {
            "type": "object",
            "required": [
              "email",
              "planType",
              "type"
            ],
            "properties": {
              "email": {
                "type": "string"
              },
              "planType": {
                "$ref": "#/definitions/v2/PlanType"
              },
              "type": {
                "type": "string",
                "enum": [
                  "chatgpt"
                ],
                "title": "ChatgptAccountType"
              }
            },
            "title": "ChatgptAccount"
          }
        ]
      },
      "GetAccountResponse": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "GetAccountResponse",
        "type": "object",
        "required": [
          "requiresOpenaiAuth"
        ],
        "properties": {
          "account": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/Account"
              },
              {
                "type": "null"
              }
            ]
          },
          "requiresOpenaiAuth": {
            "type": "boolean"
          }
        }
      },
      "ErrorNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ErrorNotification",
        "type": "object",
        "required": [
          "error",
          "threadId",
          "turnId",
          "willRetry"
        ],
        "properties": {
          "error": {
            "$ref": "#/definitions/v2/TurnError"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          },
          "willRetry": {
            "type": "boolean"
          }
        }
      },
      "ThreadStartedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadStartedNotification",
        "type": "object",
        "required": [
          "thread"
        ],
        "properties": {
          "thread": {
            "$ref": "#/definitions/v2/Thread"
          }
        }
      },
      "ThreadStatusChangedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadStatusChangedNotification",
        "type": "object",
        "required": [
          "status",
          "threadId"
        ],
        "properties": {
          "status": {
            "$ref": "#/definitions/v2/ThreadStatus"
          },
          "threadId": {
            "type": "string"
          }
        }
      },
      "ThreadArchivedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadArchivedNotification",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          }
        }
      },
      "ThreadUnarchivedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadUnarchivedNotification",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          }
        }
      },
      "ThreadNameUpdatedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadNameUpdatedNotification",
        "type": "object",
        "required": [
          "threadId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          },
          "threadName": {
            "type": [
              "string",
              "null"
            ]
          }
        }
      },
      "ThreadTokenUsage": {
        "type": "object",
        "required": [
          "last",
          "total"
        ],
        "properties": {
          "last": {
            "$ref": "#/definitions/v2/TokenUsageBreakdown"
          },
          "modelContextWindow": {
            "type": [
              "integer",
              "null"
            ],
            "format": "int64"
          },
          "total": {
            "$ref": "#/definitions/v2/TokenUsageBreakdown"
          }
        }
      },
      "TokenUsageBreakdown": {
        "type": "object",
        "required": [
          "cachedInputTokens",
          "inputTokens",
          "outputTokens",
          "reasoningOutputTokens",
          "totalTokens"
        ],
        "properties": {
          "cachedInputTokens": {
            "type": "integer",
            "format": "int64"
          },
          "inputTokens": {
            "type": "integer",
            "format": "int64"
          },
          "outputTokens": {
            "type": "integer",
            "format": "int64"
          },
          "reasoningOutputTokens": {
            "type": "integer",
            "format": "int64"
          },
          "totalTokens": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ThreadTokenUsageUpdatedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ThreadTokenUsageUpdatedNotification",
        "type": "object",
        "required": [
          "threadId",
          "tokenUsage",
          "turnId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          },
          "tokenUsage": {
            "$ref": "#/definitions/v2/ThreadTokenUsage"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "TurnStartedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnStartedNotification",
        "type": "object",
        "required": [
          "threadId",
          "turn"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          },
          "turn": {
            "$ref": "#/definitions/v2/Turn"
          }
        }
      },
      "TurnCompletedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnCompletedNotification",
        "type": "object",
        "required": [
          "threadId",
          "turn"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          },
          "turn": {
            "$ref": "#/definitions/v2/Turn"
          }
        }
      },
      "TurnDiffUpdatedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnDiffUpdatedNotification",
        "description": "Notification that the turn-level unified diff has changed. Contains the latest aggregated diff across all file changes in the turn.",
        "type": "object",
        "required": [
          "diff",
          "threadId",
          "turnId"
        ],
        "properties": {
          "diff": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "TurnPlanStep": {
        "type": "object",
        "required": [
          "status",
          "step"
        ],
        "properties": {
          "status": {
            "$ref": "#/definitions/v2/TurnPlanStepStatus"
          },
          "step": {
            "type": "string"
          }
        }
      },
      "TurnPlanStepStatus": {
        "type": "string",
        "enum": [
          "pending",
          "inProgress",
          "completed"
        ]
      },
      "TurnPlanUpdatedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TurnPlanUpdatedNotification",
        "type": "object",
        "required": [
          "plan",
          "threadId",
          "turnId"
        ],
        "properties": {
          "explanation": {
            "type": [
              "string",
              "null"
            ]
          },
          "plan": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/TurnPlanStep"
            }
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "ItemStartedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ItemStartedNotification",
        "type": "object",
        "required": [
          "item",
          "threadId",
          "turnId"
        ],
        "properties": {
          "item": {
            "$ref": "#/definitions/v2/ThreadItem"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "ItemCompletedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ItemCompletedNotification",
        "type": "object",
        "required": [
          "item",
          "threadId",
          "turnId"
        ],
        "properties": {
          "item": {
            "$ref": "#/definitions/v2/ThreadItem"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "RawResponseItemCompletedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "RawResponseItemCompletedNotification",
        "type": "object",
        "required": [
          "item",
          "threadId",
          "turnId"
        ],
        "properties": {
          "item": {
            "$ref": "#/definitions/v2/ResponseItem"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "AgentMessageDeltaNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "AgentMessageDeltaNotification",
        "type": "object",
        "required": [
          "delta",
          "itemId",
          "threadId",
          "turnId"
        ],
        "properties": {
          "delta": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "PlanDeltaNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "PlanDeltaNotification",
        "description": "EXPERIMENTAL - proposed plan streaming deltas for plan items. Clients should not assume concatenated deltas match the completed plan item content.",
        "type": "object",
        "required": [
          "delta",
          "itemId",
          "threadId",
          "turnId"
        ],
        "properties": {
          "delta": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "CommandExecutionOutputDeltaNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "CommandExecutionOutputDeltaNotification",
        "type": "object",
        "required": [
          "delta",
          "itemId",
          "threadId",
          "turnId"
        ],
        "properties": {
          "delta": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "TerminalInteractionNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "TerminalInteractionNotification",
        "type": "object",
        "required": [
          "itemId",
          "processId",
          "stdin",
          "threadId",
          "turnId"
        ],
        "properties": {
          "itemId": {
            "type": "string"
          },
          "processId": {
            "type": "string"
          },
          "stdin": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "FileChangeOutputDeltaNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "FileChangeOutputDeltaNotification",
        "type": "object",
        "required": [
          "delta",
          "itemId",
          "threadId",
          "turnId"
        ],
        "properties": {
          "delta": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "McpToolCallProgressNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "McpToolCallProgressNotification",
        "type": "object",
        "required": [
          "itemId",
          "message",
          "threadId",
          "turnId"
        ],
        "properties": {
          "itemId": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "McpServerOauthLoginCompletedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "McpServerOauthLoginCompletedNotification",
        "type": "object",
        "required": [
          "name",
          "success"
        ],
        "properties": {
          "error": {
            "type": [
              "string",
              "null"
            ]
          },
          "name": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          }
        }
      },
      "AuthMode": {
        "description": "Authentication mode for OpenAI-backed providers.",
        "oneOf": [
          {
            "description": "OpenAI API key provided by the caller and stored by Codex.",
            "type": "string",
            "enum": [
              "apikey"
            ]
          },
          {
            "description": "ChatGPT OAuth managed by Codex (tokens persisted and refreshed by Codex).",
            "type": "string",
            "enum": [
              "chatgpt"
            ]
          },
          {
            "description": "[UNSTABLE] FOR OPENAI INTERNAL USE ONLY - DO NOT USE.\n\nChatGPT auth tokens are supplied by an external host app and are only stored in memory. Token refresh must be handled by the external host app.",
            "type": "string",
            "enum": [
              "chatgptAuthTokens"
            ]
          }
        ]
      },
      "AccountUpdatedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "AccountUpdatedNotification",
        "type": "object",
        "properties": {
          "authMode": {
            "anyOf": [
              {
                "$ref": "#/definitions/v2/AuthMode"
              },
              {
                "type": "null"
              }
            ]
          }
        }
      },
      "AccountRateLimitsUpdatedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "AccountRateLimitsUpdatedNotification",
        "type": "object",
        "required": [
          "rateLimits"
        ],
        "properties": {
          "rateLimits": {
            "$ref": "#/definitions/v2/RateLimitSnapshot"
          }
        }
      },
      "AppListUpdatedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "AppListUpdatedNotification",
        "description": "EXPERIMENTAL - notification emitted when the app list changes.",
        "type": "object",
        "required": [
          "data"
        ],
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/v2/AppInfo"
            }
          }
        }
      },
      "ReasoningSummaryTextDeltaNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ReasoningSummaryTextDeltaNotification",
        "type": "object",
        "required": [
          "delta",
          "itemId",
          "summaryIndex",
          "threadId",
          "turnId"
        ],
        "properties": {
          "delta": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "summaryIndex": {
            "type": "integer",
            "format": "int64"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "ReasoningSummaryPartAddedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ReasoningSummaryPartAddedNotification",
        "type": "object",
        "required": [
          "itemId",
          "summaryIndex",
          "threadId",
          "turnId"
        ],
        "properties": {
          "itemId": {
            "type": "string"
          },
          "summaryIndex": {
            "type": "integer",
            "format": "int64"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "ReasoningTextDeltaNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ReasoningTextDeltaNotification",
        "type": "object",
        "required": [
          "contentIndex",
          "delta",
          "itemId",
          "threadId",
          "turnId"
        ],
        "properties": {
          "contentIndex": {
            "type": "integer",
            "format": "int64"
          },
          "delta": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "ContextCompactedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ContextCompactedNotification",
        "description": "Deprecated: Use `ContextCompaction` item type instead.",
        "type": "object",
        "required": [
          "threadId",
          "turnId"
        ],
        "properties": {
          "threadId": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "ModelRerouteReason": {
        "type": "string",
        "enum": [
          "highRiskCyberActivity"
        ]
      },
      "ModelReroutedNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "ModelReroutedNotification",
        "type": "object",
        "required": [
          "fromModel",
          "reason",
          "threadId",
          "toModel",
          "turnId"
        ],
        "properties": {
          "fromModel": {
            "type": "string"
          },
          "reason": {
            "$ref": "#/definitions/v2/ModelRerouteReason"
          },
          "threadId": {
            "type": "string"
          },
          "toModel": {
            "type": "string"
          },
          "turnId": {
            "type": "string"
          }
        }
      },
      "DeprecationNoticeNotification": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "DeprecationNoticeNotification",
        "type": "object",
        "required": [
          "summary"
        ],
        "properties": {
          "details": {
            "description": "Optional extra guidance, such as migration steps or rationale.",
            "type": [
              "string",
              "null"
            ]
          },
          "summary": {
            "description": "Concise summary of what is deprecated.",
            "type": "string"
          }
        }
      }
    },
    "InitializeResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "InitializeResponse",
      "type": "object",
      "required": [
        "userAgent"
      ],
      "properties": {
        "userAgent": {
          "type": "string"
        }
      }
    },
    "FuzzyFileSearchResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FuzzyFileSearchResponse",
      "type": "object",
      "required": [
        "files"
      ],
      "properties": {
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/FuzzyFileSearchResult"
          }
        }
      }
    },
    "ChatgptAuthTokensRefreshResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ChatgptAuthTokensRefreshResponse",
      "type": "object",
      "required": [
        "accessToken",
        "chatgptAccountId"
      ],
      "properties": {
        "accessToken": {
          "type": "string"
        },
        "chatgptAccountId": {
          "type": "string"
        },
        "chatgptPlanType": {
          "type": [
            "string",
            "null"
          ]
        }
      }
    },
    "DynamicToolCallResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DynamicToolCallResponse",
      "type": "object",
      "required": [
        "contentItems",
        "success"
      ],
      "properties": {
        "contentItems": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/DynamicToolCallOutputContentItem"
          }
        },
        "success": {
          "type": "boolean"
        }
      }
    },
    "DynamicToolCallOutputContentItem": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "text",
            "type"
          ],
          "properties": {
            "text": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "inputText"
              ],
              "title": "InputTextDynamicToolCallOutputContentItemType"
            }
          },
          "title": "InputTextDynamicToolCallOutputContentItem"
        },
        {
          "type": "object",
          "required": [
            "imageUrl",
            "type"
          ],
          "properties": {
            "imageUrl": {
              "type": "string"
            },
            "type": {
              "type": "string",
              "enum": [
                "inputImage"
              ],
              "title": "InputImageDynamicToolCallOutputContentItemType"
            }
          },
          "title": "InputImageDynamicToolCallOutputContentItem"
        }
      ]
    },
    "CommandExecutionApprovalDecision": {
      "oneOf": [
        {
          "description": "User approved the command.",
          "type": "string",
          "enum": [
            "accept"
          ]
        },
        {
          "description": "User approved the command and future identical commands should run without prompting.",
          "type": "string",
          "enum": [
            "acceptForSession"
          ]
        },
        {
          "description": "User approved the command, and wants to apply the proposed execpolicy amendment so future matching commands can run without prompting.",
          "type": "object",
          "required": [
            "acceptWithExecpolicyAmendment"
          ],
          "properties": {
            "acceptWithExecpolicyAmendment": {
              "type": "object",
              "required": [
                "execpolicy_amendment"
              ],
              "properties": {
                "execpolicy_amendment": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "additionalProperties": false,
          "title": "AcceptWithExecpolicyAmendmentCommandExecutionApprovalDecision"
        },
        {
          "description": "User chose a persistent network policy rule (allow/deny) for this host.",
          "type": "object",
          "required": [
            "applyNetworkPolicyAmendment"
          ],
          "properties": {
            "applyNetworkPolicyAmendment": {
              "type": "object",
              "required": [
                "network_policy_amendment"
              ],
              "properties": {
                "network_policy_amendment": {
                  "$ref": "#/definitions/NetworkPolicyAmendment"
                }
              }
            }
          },
          "additionalProperties": false,
          "title": "ApplyNetworkPolicyAmendmentCommandExecutionApprovalDecision"
        },
        {
          "description": "User denied the command. The agent will continue the turn.",
          "type": "string",
          "enum": [
            "decline"
          ]
        },
        {
          "description": "User denied the command. The turn will also be immediately interrupted.",
          "type": "string",
          "enum": [
            "cancel"
          ]
        }
      ]
    },
    "CommandExecutionRequestApprovalResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CommandExecutionRequestApprovalResponse",
      "type": "object",
      "required": [
        "decision"
      ],
      "properties": {
        "decision": {
          "$ref": "#/definitions/CommandExecutionApprovalDecision"
        }
      }
    },
    "FileChangeApprovalDecision": {
      "oneOf": [
        {
          "description": "User approved the file changes.",
          "type": "string",
          "enum": [
            "accept"
          ]
        },
        {
          "description": "User approved the file changes and future changes to the same files should run without prompting.",
          "type": "string",
          "enum": [
            "acceptForSession"
          ]
        },
        {
          "description": "User denied the file changes. The agent will continue the turn.",
          "type": "string",
          "enum": [
            "decline"
          ]
        },
        {
          "description": "User denied the file changes. The turn will also be immediately interrupted.",
          "type": "string",
          "enum": [
            "cancel"
          ]
        }
      ]
    },
    "FileChangeRequestApprovalResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FileChangeRequestApprovalResponse",
      "type": "object",
      "required": [
        "decision"
      ],
      "properties": {
        "decision": {
          "$ref": "#/definitions/FileChangeApprovalDecision"
        }
      }
    },
    "ToolRequestUserInputAnswer": {
      "description": "EXPERIMENTAL. Captures a user's answer to a request_user_input question.",
      "type": "object",
      "required": [
        "answers"
      ],
      "properties": {
        "answers": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "ToolRequestUserInputResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ToolRequestUserInputResponse",
      "description": "EXPERIMENTAL. Response payload mapping question ids to answers.",
      "type": "object",
      "required": [
        "answers"
      ],
      "properties": {
        "answers": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/ToolRequestUserInputAnswer"
          }
        }
      }
    },
    "SkillApprovalDecision": {
      "type": "string",
      "enum": [
        "approve",
        "decline"
      ]
    },
    "SkillRequestApprovalResponse": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SkillRequestApprovalResponse",
      "type": "object",
      "required": [
        "decision"
      ],
      "properties": {
        "decision": {
          "$ref": "#/definitions/SkillApprovalDecision"
        }
      }
    }
  }
}